2023-09-11 10:30:04.017 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:30:04.160 +03:30 [DBG] Hosting starting
2023-09-11 10:30:04.280 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:30:04.283 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:30:04.306 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:30:04.320 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:30:04.327 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:30:04.332 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:30:04.336 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:30:04.347 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:30:04.352 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:30:04.356 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:30:04.358 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:30:04.837 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 10:30:04.884 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 10:30:04.885 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 10:30:04.885 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:30:04.886 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:30:04.886 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:30:04.887 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:30:04.888 +03:30 [INF] Hosting environment: Development
2023-09-11 10:30:04.889 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:30:04.889 +03:30 [DBG] Hosting started
2023-09-11 10:30:05.052 +03:30 [DBG] Connection id "0HMTIIIT1S42R" accepted.
2023-09-11 10:30:05.054 +03:30 [DBG] Connection id "0HMTIIIT1S42R" started.
2023-09-11 10:30:05.147 +03:30 [DBG] Connection id "0HMTIIIT1S42S" accepted.
2023-09-11 10:30:05.148 +03:30 [DBG] Connection id "0HMTIIIT1S42S" started.
2023-09-11 10:30:05.374 +03:30 [DBG] Connection id "0HMTIIIT1S42T" accepted.
2023-09-11 10:30:05.376 +03:30 [DBG] Connection id "0HMTIIIT1S42T" started.
2023-09-11 10:30:05.433 +03:30 [DBG] Connection 0HMTIIIT1S42T established using the following protocol: "Tls12"
2023-09-11 10:30:05.477 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 10:30:05.513 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:30:05.740 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:30:06.002 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:30:06.011 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:30:06.017 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 10:30:06.018 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.9162ms
2023-09-11 10:30:06.019 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 545.1788ms
2023-09-11 10:30:06.074 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.9880ms
2023-09-11 10:30:06.162 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 10:30:06.351 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.8853ms
2023-09-11 10:30:15.072 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 10:30:15.076 +03:30 [DBG] Connection id "0HMTIIIT1S42R" stopped.
2023-09-11 10:30:15.077 +03:30 [DBG] Connection id "0HMTIIIT1S42R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:30:15.153 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 10:30:15.154 +03:30 [DBG] Connection id "0HMTIIIT1S42S" stopped.
2023-09-11 10:30:15.155 +03:30 [DBG] Connection id "0HMTIIIT1S42S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:30:25.168 +03:30 [DBG] Connection id "0HMTIIIT1S42U" accepted.
2023-09-11 10:30:25.173 +03:30 [DBG] Connection id "0HMTIIIT1S42U" received FIN.
2023-09-11 10:30:25.174 +03:30 [DBG] Connection id "0HMTIIIT1S42U" started.
2023-09-11 10:30:25.174 +03:30 [DBG] Connection id "0HMTIIIT1S42V" accepted.
2023-09-11 10:30:25.175 +03:30 [DBG] Connection id "0HMTIIIT1S42V" started.
2023-09-11 10:30:25.175 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:30:25.179 +03:30 [DBG] Connection 0HMTIIIT1S42V established using the following protocol: "Tls12"
2023-09-11 10:30:25.265 +03:30 [DBG] Connection id "0HMTIIIT1S42U" stopped.
2023-09-11 10:30:25.267 +03:30 [DBG] Connection id "0HMTIIIT1S42U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:30:25.273 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63
2023-09-11 10:30:25.275 +03:30 [DBG] POST requests are not supported
2023-09-11 10:30:25.299 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 10:30:25.309 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 10:30:25.311 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:30:25.992 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:30:25.994 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:30:26.023 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 10:30:26.025 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 10:30:26.026 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 10:30:26.027 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 10:30:26.028 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 10:30:26.029 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 10:30:26.030 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:30:26.032 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:30:26.037 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:30:26.040 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 10:30:26.041 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 10:30:26.042 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 10:30:26.049 +03:30 [DBG] Connection id "0HMTIIIT1S42V", Request id "0HMTIIIT1S42V:00000002": started reading request body.
2023-09-11 10:30:26.050 +03:30 [DBG] Connection id "0HMTIIIT1S42V", Request id "0HMTIIIT1S42V:00000002": done reading request body.
2023-09-11 10:30:26.249 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:30:26.250 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:30:26.250 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:30:26.258 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:30:26.403 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 10:30:26.771 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 360.162ms.
2023-09-11 10:30:26.775 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 10:30:26.778 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 10:30:26.779 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 10:30:26.780 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 10:30:26.780 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 10:30:26.781 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 10:30:26.790 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 752.8621ms
2023-09-11 10:30:26.790 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:30:26.791 +03:30 [DBG] Connection id "0HMTIIIT1S42V" completed keep alive response.
2023-09-11 10:30:26.792 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63 - 200 - text/plain;+charset=utf-8 1518.9255ms
2023-09-11 10:30:39.717 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:30:39.719 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:30:39.721 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:30:39.721 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:30:39.722 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:30:39.748 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:30:39.752 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:30:39.758 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:30:39.769 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:30:39.770 +03:30 [DBG] Connection id "0HMTIIIT1S42V" completed keep alive response.
2023-09-11 10:30:39.770 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 53.2751ms
2023-09-11 10:33:21.863 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:33:21.945 +03:30 [DBG] Hosting starting
2023-09-11 10:33:21.971 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:33:21.973 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:33:21.981 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:33:21.991 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:33:21.994 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:33:21.997 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:33:21.999 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:33:22.004 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:33:22.007 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:33:22.010 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:33:22.011 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:33:22.111 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 10:33:22.140 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 10:33:22.141 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 10:33:22.141 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:33:22.142 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:33:22.142 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:33:22.143 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:33:22.143 +03:30 [INF] Hosting environment: Development
2023-09-11 10:33:22.144 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:33:22.144 +03:30 [DBG] Hosting started
2023-09-11 10:33:22.409 +03:30 [DBG] Connection id "0HMTIIKNS0QKU" accepted.
2023-09-11 10:33:22.409 +03:30 [DBG] Connection id "0HMTIIKNS0QKT" accepted.
2023-09-11 10:33:22.410 +03:30 [DBG] Connection id "0HMTIIKNS0QKT" started.
2023-09-11 10:33:22.410 +03:30 [DBG] Connection id "0HMTIIKNS0QKU" started.
2023-09-11 10:33:22.418 +03:30 [DBG] Connection id "0HMTIIKNS0QKU" received FIN.
2023-09-11 10:33:22.418 +03:30 [DBG] Connection id "0HMTIIKNS0QKT" received FIN.
2023-09-11 10:33:22.426 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:33:22.426 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:33:22.450 +03:30 [DBG] Connection id "0HMTIIKNS0QKU" stopped.
2023-09-11 10:33:22.450 +03:30 [DBG] Connection id "0HMTIIKNS0QKT" stopped.
2023-09-11 10:33:22.452 +03:30 [DBG] Connection id "0HMTIIKNS0QKU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:33:22.452 +03:30 [DBG] Connection id "0HMTIIKNS0QKT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:33:22.574 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" accepted.
2023-09-11 10:33:22.575 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" started.
2023-09-11 10:33:22.613 +03:30 [DBG] Connection 0HMTIIKNS0QKV established using the following protocol: "Tls12"
2023-09-11 10:33:22.647 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 10:33:22.673 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:33:22.860 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:33:22.960 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:33:22.964 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:33:22.969 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 10:33:22.971 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.1028ms
2023-09-11 10:33:22.972 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 328.7943ms
2023-09-11 10:33:22.987 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.5495ms
2023-09-11 10:33:23.073 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 10:33:23.214 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.6710ms
2023-09-11 10:36:10.767 +03:30 [DBG] Connection id "0HMTIIKNS0QL0" accepted.
2023-09-11 10:36:10.771 +03:30 [DBG] Connection id "0HMTIIKNS0QL0" received FIN.
2023-09-11 10:36:10.772 +03:30 [DBG] Connection id "0HMTIIKNS0QL0" started.
2023-09-11 10:36:10.772 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" accepted.
2023-09-11 10:36:10.785 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:36:10.786 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" started.
2023-09-11 10:36:10.788 +03:30 [DBG] Connection id "0HMTIIKNS0QL0" stopped.
2023-09-11 10:36:10.789 +03:30 [DBG] Connection id "0HMTIIKNS0QL0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:36:10.793 +03:30 [DBG] Connection 0HMTIIKNS0QL1 established using the following protocol: "Tls12"
2023-09-11 10:36:10.802 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:10.804 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:10.827 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:10.833 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:10.834 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:10.899 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:10.901 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:10.908 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:10.916 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:10.917 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:10.917 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 115.2984ms
2023-09-11 10:36:12.117 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:12.117 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:12.119 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:12.119 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:12.120 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:12.122 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:12.125 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:12.126 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:12.126 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:12.127 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:12.127 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 10.4166ms
2023-09-11 10:36:13.109 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:13.109 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:13.110 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:13.110 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:13.111 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:13.113 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:13.115 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:13.116 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:13.116 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:13.117 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:13.117 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 8.5470ms
2023-09-11 10:36:14.269 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:14.270 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:14.271 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:14.271 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:14.273 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:14.275 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:14.278 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:14.279 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:14.279 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:14.280 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:14.281 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 11.3382ms
2023-09-11 10:36:15.448 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:15.449 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:15.449 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:15.450 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:15.451 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:15.452 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:15.454 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:15.455 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:15.455 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:15.456 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:15.458 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 9.2902ms
2023-09-11 10:36:16.584 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:16.585 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:16.585 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:16.586 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:16.587 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:16.589 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:16.593 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:16.594 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:16.595 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:16.595 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:16.596 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 12.2740ms
2023-09-11 10:36:18.157 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:18.158 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:18.158 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:18.159 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:18.160 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:18.161 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:18.163 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:18.164 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:18.164 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:18.165 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:18.165 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 8.4644ms
2023-09-11 10:36:20.953 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:36:20.955 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:36:20.955 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:36:20.957 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:36:20.958 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:36:20.959 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:36:20.961 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:36:20.961 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:36:20.962 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:36:20.963 +03:30 [DBG] Connection id "0HMTIIKNS0QL1" completed keep alive response.
2023-09-11 10:36:20.963 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 9.6664ms
2023-09-11 10:38:14.446 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" received FIN.
2023-09-11 10:38:14.503 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" is closed. The last processed stream ID was 7.
2023-09-11 10:38:14.505 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:38:14.511 +03:30 [DBG] Connection id "0HMTIIKNS0QKV" stopped.
2023-09-11 10:40:18.087 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:40:18.168 +03:30 [DBG] Hosting starting
2023-09-11 10:40:18.195 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:40:18.197 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:40:18.205 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:40:18.215 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:40:18.219 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:40:18.222 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:40:18.224 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:40:18.229 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:40:18.231 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:40:18.235 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:40:18.236 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:40:18.327 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 10:40:18.355 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 10:40:18.355 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 10:40:18.356 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:40:18.356 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:40:18.357 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:40:18.358 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:40:18.359 +03:30 [INF] Hosting environment: Development
2023-09-11 10:40:18.359 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:40:18.360 +03:30 [DBG] Hosting started
2023-09-11 10:40:18.753 +03:30 [DBG] Connection id "0HMTIIOJUJ2JV" accepted.
2023-09-11 10:40:18.755 +03:30 [DBG] Connection id "0HMTIIOJUJ2JV" started.
2023-09-11 10:40:18.759 +03:30 [DBG] Connection id "0HMTIIOJUJ2K0" received FIN.
2023-09-11 10:40:18.761 +03:30 [DBG] Connection id "0HMTIIOJUJ2JV" received FIN.
2023-09-11 10:40:18.762 +03:30 [DBG] Connection id "0HMTIIOJUJ2K0" accepted.
2023-09-11 10:40:18.763 +03:30 [DBG] Connection id "0HMTIIOJUJ2K0" started.
2023-09-11 10:40:18.767 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:40:18.767 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:40:18.798 +03:30 [DBG] Connection id "0HMTIIOJUJ2JV" stopped.
2023-09-11 10:40:18.798 +03:30 [DBG] Connection id "0HMTIIOJUJ2K0" stopped.
2023-09-11 10:40:18.800 +03:30 [DBG] Connection id "0HMTIIOJUJ2K0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:40:18.800 +03:30 [DBG] Connection id "0HMTIIOJUJ2JV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:40:18.907 +03:30 [DBG] Connection id "0HMTIIOJUJ2K1" accepted.
2023-09-11 10:40:18.914 +03:30 [DBG] Connection id "0HMTIIOJUJ2K1" started.
2023-09-11 10:40:18.949 +03:30 [DBG] Connection 0HMTIIOJUJ2K1 established using the following protocol: "Tls12"
2023-09-11 10:40:18.981 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 10:40:19.006 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:40:19.190 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:40:19.299 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:40:19.301 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 10:40:19.302 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:40:19.312 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.0493ms
2023-09-11 10:40:19.314 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 335.5466ms
2023-09-11 10:40:19.319 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.6129ms
2023-09-11 10:40:19.410 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 10:40:19.549 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.2338ms
2023-09-11 10:40:21.869 +03:30 [DBG] Connection id "0HMTIIOJUJ2K2" accepted.
2023-09-11 10:40:21.869 +03:30 [DBG] Connection id "0HMTIIOJUJ2K2" received FIN.
2023-09-11 10:40:21.870 +03:30 [DBG] Connection id "0HMTIIOJUJ2K2" started.
2023-09-11 10:40:21.870 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3" accepted.
2023-09-11 10:40:21.871 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:40:21.871 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3" started.
2023-09-11 10:40:21.873 +03:30 [DBG] Connection id "0HMTIIOJUJ2K2" stopped.
2023-09-11 10:40:21.874 +03:30 [DBG] Connection id "0HMTIIOJUJ2K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:40:21.877 +03:30 [DBG] Connection 0HMTIIOJUJ2K3 established using the following protocol: "Tls12"
2023-09-11 10:40:21.885 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:40:21.886 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:40:21.908 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:40:21.914 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:40:21.915 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:40:22.469 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:40:22.472 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:40:22.479 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:40:22.486 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:40:22.487 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3" completed keep alive response.
2023-09-11 10:40:22.487 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 602.6297ms
2023-09-11 10:40:34.025 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/api/cities - -
2023-09-11 10:40:34.025 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:40:34.027 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-09-11 10:40:34.028 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-09-11 10:40:34.029 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:40:34.032 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:40:34.034 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:40:34.034 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:40:34.035 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/api/cities - - - 401 0 - 10.3726ms
2023-09-11 10:40:59.815 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63
2023-09-11 10:40:59.816 +03:30 [DBG] POST requests are not supported
2023-09-11 10:40:59.817 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 10:40:59.817 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 10:40:59.818 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:40:59.819 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:40:59.821 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:40:59.843 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 10:40:59.847 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 10:40:59.847 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 10:40:59.848 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 10:40:59.850 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 10:40:59.851 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 10:40:59.852 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:40:59.854 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:40:59.858 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:40:59.860 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 10:40:59.862 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 10:40:59.862 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 10:40:59.869 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3", Request id "0HMTIIOJUJ2K3:00000003": started reading request body.
2023-09-11 10:40:59.871 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3", Request id "0HMTIIOJUJ2K3:00000003": done reading request body.
2023-09-11 10:40:59.967 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:40:59.969 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:40:59.971 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:40:59.977 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:41:00.031 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 10:41:00.129 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.971ms.
2023-09-11 10:41:00.133 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 10:41:00.136 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 10:41:00.137 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 10:41:00.137 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 10:41:00.138 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 10:41:00.139 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 10:41:00.144 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 288.6155ms
2023-09-11 10:41:00.145 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:41:00.146 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3" completed keep alive response.
2023-09-11 10:41:00.146 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63 - 200 - text/plain;+charset=utf-8 330.7070ms
2023-09-11 10:41:17.376 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:41:17.376 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:41:17.377 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:41:17.377 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:41:17.378 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:41:17.379 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:41:17.381 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:41:17.382 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:41:17.383 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:41:17.385 +03:30 [DBG] Connection id "0HMTIIOJUJ2K3" completed keep alive response.
2023-09-11 10:41:17.385 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 9.6902ms
2023-09-11 10:41:52.461 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:41:52.536 +03:30 [DBG] Hosting starting
2023-09-11 10:41:52.554 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:41:52.556 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:41:52.568 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:41:52.576 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:41:52.578 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:41:52.582 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:41:52.583 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:41:52.587 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:41:52.589 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:41:52.591 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:41:52.591 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:41:52.645 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:41:52.650 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:41:52.650 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:41:52.650 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:41:52.650 +03:30 [INF] Hosting environment: Development
2023-09-11 10:41:52.650 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:41:52.650 +03:30 [DBG] Hosting started
2023-09-11 10:41:52.666 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger - -
2023-09-11 10:41:52.690 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:41:52.734 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/index.html - -
2023-09-11 10:41:52.734 +03:30 [DBG] Connection ID "18374686528526876699" disconnecting.
2023-09-11 10:41:52.739 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger - - - 301 - - 75.7015ms
2023-09-11 10:41:52.892 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:41:52.990 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:41:53.033 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/swagger-ui-bundle.js - -
2023-09-11 10:41:53.033 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/swagger-ui.css - -
2023-09-11 10:41:53.033 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/swagger-ui-standalone-preset.js - -
2023-09-11 10:41:53.033 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:41:53.039 +03:30 [DBG] Connection ID "18230571310386249741" disconnecting.
2023-09-11 10:41:53.039 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/index.html - - - 200 - text/html;charset=utf-8 304.7638ms
2023-09-11 10:41:53.042 +03:30 [DBG] Connection ID "18230571314681217025" disconnecting.
2023-09-11 10:41:53.044 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.4352ms
2023-09-11 10:41:53.067 +03:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-09-11 10:41:53.067 +03:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-09-11 10:41:53.068 +03:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-09-11 10:41:53.068 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/swagger-ui.css - - - 200 144929 text/css 35.6427ms
2023-09-11 10:41:53.073 +03:30 [DBG] Connection ID "18158513724938256387" disconnecting.
2023-09-11 10:41:53.074 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/_vs/browserLink - -
2023-09-11 10:41:53.081 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 48.0246ms
2023-09-11 10:41:53.091 +03:30 [DBG] Connection ID "18302628908719144962" disconnecting.
2023-09-11 10:41:53.091 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 92.6427ms
2023-09-11 10:41:53.105 +03:30 [DBG] Connection ID "18230571301796315160" disconnecting.
2023-09-11 10:41:53.105 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.9316ms
2023-09-11 10:41:53.257 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/v1/swagger.json - -
2023-09-11 10:41:53.272 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/favicon-32x32.png - -
2023-09-11 10:41:53.273 +03:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-09-11 10:41:53.273 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/favicon-32x32.png - - - 200 628 image/png 0.6340ms
2023-09-11 10:41:53.273 +03:30 [DBG] Connection ID "18374686485577203731" disconnecting.
2023-09-11 10:41:53.391 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.9758ms
2023-09-11 10:41:53.392 +03:30 [DBG] Connection ID "18302628887244308515" disconnecting.
2023-09-11 10:42:19.911 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:42:19.916 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:42:19.940 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:42:19.945 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:42:19.945 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:42:20.003 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:42:20.021 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:42:20.027 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:42:20.036 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:42:20.037 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 126.1065ms
2023-09-11 10:42:28.124 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:44386/api/authentication/authenticate application/json 63
2023-09-11 10:42:28.124 +03:30 [DBG] POST requests are not supported
2023-09-11 10:42:28.125 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 10:42:28.125 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 10:42:28.126 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:42:28.127 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:42:28.128 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:42:28.153 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 10:42:28.154 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 10:42:28.154 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 10:42:28.154 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 10:42:28.154 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 10:42:28.154 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 10:42:28.154 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:42:28.155 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:42:28.157 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:42:28.159 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 10:42:28.159 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 10:42:28.159 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 10:42:28.261 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:42:28.261 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:42:28.261 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:42:28.266 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:42:28.310 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 10:42:28.411 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.8478ms.
2023-09-11 10:42:28.413 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 10:42:28.416 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 10:42:28.416 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 10:42:28.416 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 10:42:28.416 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 10:42:28.416 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 10:42:28.421 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 263.1259ms
2023-09-11 10:42:28.421 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:42:28.421 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:44386/api/authentication/authenticate application/json 63 - 200 - text/plain;+charset=utf-8 297.3758ms
2023-09-11 10:42:36.753 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:42:36.753 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:42:36.753 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:42:36.753 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:42:36.753 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:42:36.755 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:42:36.755 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:42:36.755 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:42:36.755 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:42:36.756 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 2.9997ms
2023-09-11 10:44:16.453 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:44:16.532 +03:30 [DBG] Hosting starting
2023-09-11 10:44:16.554 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:44:16.557 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:44:16.568 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:44:16.577 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:44:16.579 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:44:16.582 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:44:16.583 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:44:16.588 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:44:16.589 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:44:16.591 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:44:16.592 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:44:16.654 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:44:16.658 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:44:16.658 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:44:16.659 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:44:16.659 +03:30 [INF] Hosting environment: Development
2023-09-11 10:44:16.659 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:44:16.659 +03:30 [DBG] Hosting started
2023-09-11 10:44:16.679 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/index.html - -
2023-09-11 10:44:16.706 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:44:16.896 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:44:17.011 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:44:17.013 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:44:17.015 +03:30 [DBG] Connection ID "18302628908719144964" disconnecting.
2023-09-11 10:44:17.017 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/_vs/browserLink - -
2023-09-11 10:44:17.017 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/index.html - - - 200 - text/html;charset=utf-8 342.7116ms
2023-09-11 10:44:17.022 +03:30 [DBG] Connection ID "18230571301796315162" disconnecting.
2023-09-11 10:44:17.024 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.3379ms
2023-09-11 10:44:17.050 +03:30 [DBG] Connection ID "18230571310386249743" disconnecting.
2023-09-11 10:44:17.051 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.7318ms
2023-09-11 10:44:17.222 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44386/swagger/v1/swagger.json - -
2023-09-11 10:44:17.365 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44386/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.8267ms
2023-09-11 10:44:54.117 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:44386/api/authentication/authenticate application/json 63
2023-09-11 10:44:54.122 +03:30 [DBG] POST requests are not supported
2023-09-11 10:44:54.148 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 10:44:54.152 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 10:44:54.152 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:44:54.605 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:44:54.607 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:44:54.632 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 10:44:54.633 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 10:44:54.633 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 10:44:54.633 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 10:44:54.633 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 10:44:54.633 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 10:44:54.633 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:44:54.634 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:44:54.636 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:44:54.638 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 10:44:54.638 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 10:44:54.638 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 10:44:54.741 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:44:54.741 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:44:54.741 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:44:54.747 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:44:54.791 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 10:44:55.005 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 209.8251ms.
2023-09-11 10:44:55.007 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 10:44:55.010 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 10:44:55.010 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 10:44:55.010 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 10:44:55.010 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 10:44:55.011 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 10:44:55.015 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 378.4634ms
2023-09-11 10:44:55.016 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:44:55.016 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:44386/api/authentication/authenticate application/json 63 - 200 - text/plain;+charset=utf-8 898.8501ms
2023-09-11 10:45:06.698 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:45:06.698 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:45:06.699 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:45:06.699 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:45:06.699 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:45:06.739 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:45:06.756 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:45:06.759 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:45:06.767 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:45:06.768 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 69.8430ms
2023-09-11 10:45:11.544 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:45:11.544 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:45:11.544 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:45:11.544 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:45:11.544 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:45:11.546 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:45:11.546 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:45:11.546 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:45:11.546 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:45:11.547 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 3.3288ms
2023-09-11 10:45:32.847 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:45:32.852 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:45:32.853 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:45:32.853 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:45:32.853 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:45:32.853 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:45:32.855 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:45:32.855 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:45:32.856 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 8.8668ms
2023-09-11 10:45:37.557 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44386/api/Cities - -
2023-09-11 10:45:37.557 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:45:37.557 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:45:37.557 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:45:37.557 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:45:37.558 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:45:37.558 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:45:37.558 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:45:37.558 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:45:37.559 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44386/api/Cities - - - 401 - - 1.6032ms
2023-09-11 10:49:49.453 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 10:49:49.544 +03:30 [DBG] Hosting starting
2023-09-11 10:49:49.568 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 10:49:49.570 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 10:49:49.578 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 10:49:49.587 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 10:49:49.589 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:49:49.593 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 10:49:49.594 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 10:49:49.598 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 10:49:49.600 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 10:49:49.603 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 10:49:49.603 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 10:49:49.696 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 10:49:49.727 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 10:49:49.727 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 10:49:49.728 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 10:49:49.728 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 10:49:49.729 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 10:49:49.730 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 10:49:49.730 +03:30 [INF] Hosting environment: Development
2023-09-11 10:49:49.730 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 10:49:49.731 +03:30 [DBG] Hosting started
2023-09-11 10:49:49.964 +03:30 [DBG] Connection id "0HMTIITU62QLL" accepted.
2023-09-11 10:49:49.966 +03:30 [DBG] Connection id "0HMTIITU62QLL" started.
2023-09-11 10:49:49.970 +03:30 [DBG] Connection id "0HMTIITU62QLM" accepted.
2023-09-11 10:49:49.971 +03:30 [DBG] Connection id "0HMTIITU62QLM" started.
2023-09-11 10:49:50.183 +03:30 [DBG] Connection id "0HMTIITU62QLN" accepted.
2023-09-11 10:49:50.184 +03:30 [DBG] Connection id "0HMTIITU62QLN" started.
2023-09-11 10:49:50.221 +03:30 [DBG] Connection 0HMTIITU62QLN established using the following protocol: "Tls12"
2023-09-11 10:49:50.258 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 10:49:50.285 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 10:49:50.472 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 10:49:50.606 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 10:49:50.609 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 10:49:50.611 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 10:49:50.621 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.9965ms
2023-09-11 10:49:50.622 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 366.7705ms
2023-09-11 10:49:50.640 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3604ms
2023-09-11 10:49:50.722 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 10:49:50.870 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.6712ms
2023-09-11 10:49:59.984 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 10:49:59.984 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 10:49:59.988 +03:30 [DBG] Connection id "0HMTIITU62QLL" stopped.
2023-09-11 10:49:59.988 +03:30 [DBG] Connection id "0HMTIITU62QLM" stopped.
2023-09-11 10:49:59.989 +03:30 [DBG] Connection id "0HMTIITU62QLL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:49:59.989 +03:30 [DBG] Connection id "0HMTIITU62QLM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:50:48.872 +03:30 [DBG] Connection id "0HMTIITU62QLO" accepted.
2023-09-11 10:50:48.875 +03:30 [DBG] Connection id "0HMTIITU62QLO" received FIN.
2023-09-11 10:50:48.876 +03:30 [DBG] Connection id "0HMTIITU62QLO" started.
2023-09-11 10:50:48.889 +03:30 [DBG] Connection id "0HMTIITU62QLP" accepted.
2023-09-11 10:50:48.890 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 10:50:48.890 +03:30 [DBG] Connection id "0HMTIITU62QLP" started.
2023-09-11 10:50:48.908 +03:30 [DBG] Connection id "0HMTIITU62QLO" stopped.
2023-09-11 10:50:48.909 +03:30 [DBG] Connection id "0HMTIITU62QLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 10:50:48.913 +03:30 [DBG] Connection 0HMTIITU62QLP established using the following protocol: "Tls12"
2023-09-11 10:50:48.920 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63
2023-09-11 10:50:48.921 +03:30 [DBG] POST requests are not supported
2023-09-11 10:50:48.944 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 10:50:48.949 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 10:50:48.951 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:50:49.405 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 10:50:49.407 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:50:49.434 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 10:50:49.436 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 10:50:49.436 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 10:50:49.437 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 10:50:49.438 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 10:50:49.439 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 10:50:49.440 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:50:49.441 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 10:50:49.445 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:50:49.449 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 10:50:49.450 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 10:50:49.451 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 10:50:49.458 +03:30 [DBG] Connection id "0HMTIITU62QLP", Request id "0HMTIITU62QLP:00000002": started reading request body.
2023-09-11 10:50:49.459 +03:30 [DBG] Connection id "0HMTIITU62QLP", Request id "0HMTIITU62QLP:00000002": done reading request body.
2023-09-11 10:50:49.562 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:50:49.564 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:50:49.565 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 10:50:49.572 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 10:50:49.631 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 10:50:49.840 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 203.7274ms.
2023-09-11 10:50:49.844 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 10:50:49.848 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 10:50:49.848 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 10:50:49.849 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 10:50:49.850 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 10:50:49.850 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 10:50:49.856 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 412.2507ms
2023-09-11 10:50:49.857 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 10:50:49.858 +03:30 [DBG] Connection id "0HMTIITU62QLP" completed keep alive response.
2023-09-11 10:50:49.860 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/authentication/authenticate application/json 63 - 200 - text/plain;+charset=utf-8 939.9444ms
2023-09-11 10:50:59.734 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 10:50:59.735 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 10:50:59.736 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 10:50:59.737 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 10:50:59.738 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 10:50:59.747 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 10:50:59.750 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 10:50:59.755 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 10:50:59.765 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 10:50:59.765 +03:30 [DBG] Connection id "0HMTIITU62QLP" completed keep alive response.
2023-09-11 10:50:59.766 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 31.3502ms
2023-09-11 11:24:59.384 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:24:59.465 +03:30 [DBG] Hosting starting
2023-09-11 11:24:59.492 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:24:59.495 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:24:59.506 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:24:59.516 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:24:59.519 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:24:59.523 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:24:59.524 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:24:59.529 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:24:59.531 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:24:59.534 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:24:59.535 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:24:59.636 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:24:59.676 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:24:59.676 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:24:59.677 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:24:59.677 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:24:59.677 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:24:59.678 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:24:59.678 +03:30 [INF] Hosting environment: Development
2023-09-11 11:24:59.679 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:24:59.679 +03:30 [DBG] Hosting started
2023-09-11 11:24:59.730 +03:30 [DBG] Connection id "0HMTIJHIUCA12" accepted.
2023-09-11 11:24:59.732 +03:30 [DBG] Connection id "0HMTIJHIUCA12" started.
2023-09-11 11:24:59.735 +03:30 [DBG] Connection id "0HMTIJHIUCA13" accepted.
2023-09-11 11:24:59.737 +03:30 [DBG] Connection id "0HMTIJHIUCA13" started.
2023-09-11 11:24:59.987 +03:30 [DBG] Connection id "0HMTIJHIUCA14" accepted.
2023-09-11 11:24:59.989 +03:30 [DBG] Connection id "0HMTIJHIUCA14" started.
2023-09-11 11:25:00.045 +03:30 [DBG] Connection 0HMTIJHIUCA14 established using the following protocol: "Tls12"
2023-09-11 11:25:00.110 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:25:00.144 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:25:00.379 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:25:00.522 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:25:00.525 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:25:00.528 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:25:00.529 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.3461ms
2023-09-11 11:25:00.530 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 424.9415ms
2023-09-11 11:25:00.628 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.0300ms
2023-09-11 11:25:00.693 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:25:00.888 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.7596ms
2023-09-11 11:25:09.761 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 11:25:09.761 +03:30 [DBG] Authentication of the HTTPS connection timed out.
2023-09-11 11:25:09.765 +03:30 [DBG] Connection id "0HMTIJHIUCA13" stopped.
2023-09-11 11:25:09.765 +03:30 [DBG] Connection id "0HMTIJHIUCA12" stopped.
2023-09-11 11:25:09.766 +03:30 [DBG] Connection id "0HMTIJHIUCA12" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:25:09.766 +03:30 [DBG] Connection id "0HMTIJHIUCA13" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:25:42.943 +03:30 [DBG] Connection id "0HMTIJHIUCA15" accepted.
2023-09-11 11:25:42.946 +03:30 [DBG] Connection id "0HMTIJHIUCA15" received FIN.
2023-09-11 11:25:42.947 +03:30 [DBG] Connection id "0HMTIJHIUCA15" started.
2023-09-11 11:25:42.947 +03:30 [DBG] Connection id "0HMTIJHIUCA16" accepted.
2023-09-11 11:25:42.948 +03:30 [DBG] Connection id "0HMTIJHIUCA16" started.
2023-09-11 11:25:42.949 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:25:42.962 +03:30 [DBG] Connection 0HMTIJHIUCA16 established using the following protocol: "Tls12"
2023-09-11 11:25:42.969 +03:30 [DBG] Connection id "0HMTIJHIUCA15" stopped.
2023-09-11 11:25:42.970 +03:30 [DBG] Connection id "0HMTIJHIUCA15" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:25:42.977 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 11:25:42.979 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:25:42.999 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 11:25:43.004 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 11:25:43.006 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:25:43.059 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 11:25:43.061 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 11:25:43.063 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:25:43.084 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Microsoft.AspNetCore.Mvc.IActionResult]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:25:43.086 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:25:43.086 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:25:43.087 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:25:43.089 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:25:43.090 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:25:43.091 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:25:43.224 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:25:43.393 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:25:43.451 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:25:44.246 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:25:44.291 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(city => city.Name)'
2023-09-11 11:25:44.595 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:25:44.633 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:25:44.636 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:25:44.655 +03:30 [DBG] Created DbConnection. (14ms).
2023-09-11 11:25:44.663 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-11 11:25:44.666 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-09-11 11:25:44.676 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:25:44.693 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:25:44.703 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-09-11 11:25:44.735 +03:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-09-11 11:25:44.760 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:25:44.774 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:25:44.775 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:25:44.776 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:25:44.776 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:25:44.785 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:25:44.793 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 50ms reading results.
2023-09-11 11:25:44.800 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:25:44.805 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-09-11 11:25:44.870 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1775.6634ms
2023-09-11 11:25:44.874 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:25:44.875 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Invalid type parameter 'Microsoft.AspNetCore.Mvc.IActionResult' specified for 'ActionResult<T>'.
   at Microsoft.AspNetCore.Mvc.ActionResult`1..ctor(ActionResult result)
   at Microsoft.AspNetCore.Mvc.ActionResult`1.op_Implicit(ActionResult result)
   at CityInfo.API.controllers.CitiesController.GetCities() in D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\Controllers\CitiesController.cs:line 36
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-11 11:25:44.902 +03:30 [DBG] Connection id "0HMTIJHIUCA16" completed keep alive response.
2023-09-11 11:25:44.909 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:25:44.917 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:25:44.919 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:25:44.920 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 500 - text/plain;+charset=utf-8 1942.2251ms
2023-09-11 11:26:32.176 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:26:32.279 +03:30 [DBG] Hosting starting
2023-09-11 11:26:32.304 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:26:32.307 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:26:32.314 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:26:32.324 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:26:32.326 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:26:32.329 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:26:32.330 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:26:32.336 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:26:32.337 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:26:32.340 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:26:32.340 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:26:32.441 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:26:32.485 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:26:32.485 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:26:32.486 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:26:32.486 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:26:32.486 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:26:32.487 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:26:32.488 +03:30 [INF] Hosting environment: Development
2023-09-11 11:26:32.488 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:26:32.489 +03:30 [DBG] Hosting started
2023-09-11 11:26:32.774 +03:30 [DBG] Connection id "0HMTIJIELN6T7" accepted.
2023-09-11 11:26:32.774 +03:30 [DBG] Connection id "0HMTIJIELN6T8" accepted.
2023-09-11 11:26:32.776 +03:30 [DBG] Connection id "0HMTIJIELN6T7" started.
2023-09-11 11:26:32.776 +03:30 [DBG] Connection id "0HMTIJIELN6T8" started.
2023-09-11 11:26:32.800 +03:30 [DBG] Connection id "0HMTIJIELN6T7" received FIN.
2023-09-11 11:26:32.800 +03:30 [DBG] Connection id "0HMTIJIELN6T8" received FIN.
2023-09-11 11:26:32.823 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:26:32.823 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:26:32.847 +03:30 [DBG] Connection id "0HMTIJIELN6T7" stopped.
2023-09-11 11:26:32.868 +03:30 [DBG] Connection id "0HMTIJIELN6T8" stopped.
2023-09-11 11:26:32.870 +03:30 [DBG] Connection id "0HMTIJIELN6T8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:26:32.870 +03:30 [DBG] Connection id "0HMTIJIELN6T7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:26:32.974 +03:30 [DBG] Connection id "0HMTIJIELN6T9" accepted.
2023-09-11 11:26:32.974 +03:30 [DBG] Connection id "0HMTIJIELN6T9" started.
2023-09-11 11:26:33.003 +03:30 [DBG] Connection 0HMTIJIELN6T9 established using the following protocol: "Tls12"
2023-09-11 11:26:33.038 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:26:33.063 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:26:33.241 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:26:33.345 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:26:33.347 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:26:33.352 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:26:33.352 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.4206ms
2023-09-11 11:26:33.353 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 317.7486ms
2023-09-11 11:26:33.363 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.5150ms
2023-09-11 11:26:33.459 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:26:33.600 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.7987ms
2023-09-11 11:26:37.480 +03:30 [DBG] Connection id "0HMTIJIELN6TA" accepted.
2023-09-11 11:26:37.480 +03:30 [DBG] Connection id "0HMTIJIELN6TA" received FIN.
2023-09-11 11:26:37.480 +03:30 [DBG] Connection id "0HMTIJIELN6TA" started.
2023-09-11 11:26:37.481 +03:30 [DBG] Connection id "0HMTIJIELN6TB" accepted.
2023-09-11 11:26:37.483 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:26:37.483 +03:30 [DBG] Connection id "0HMTIJIELN6TB" started.
2023-09-11 11:26:37.485 +03:30 [DBG] Connection id "0HMTIJIELN6TA" stopped.
2023-09-11 11:26:37.486 +03:30 [DBG] Connection id "0HMTIJIELN6TA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:26:37.488 +03:30 [DBG] Connection 0HMTIJIELN6TB established using the following protocol: "Tls12"
2023-09-11 11:26:37.495 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 11:26:37.497 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:26:37.519 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 11:26:37.524 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 11:26:37.525 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:26:37.579 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 11:26:37.583 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 11:26:37.585 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:26:37.606 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:26:37.608 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:26:37.609 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:26:37.609 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:26:37.610 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:26:37.611 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:26:37.612 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:26:37.717 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:26:37.865 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:26:37.921 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:26:38.660 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:26:38.704 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(city => city.Name)'
2023-09-11 11:26:38.992 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:26:39.033 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:26:39.036 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:26:39.054 +03:30 [DBG] Created DbConnection. (13ms).
2023-09-11 11:26:39.061 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-11 11:26:39.063 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2023-09-11 11:26:39.073 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:26:39.086 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:26:39.098 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-09-11 11:26:39.133 +03:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-09-11 11:26:39.158 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:26:39.173 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:26:39.175 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:26:39.175 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:26:39.176 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:26:39.185 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:26:39.192 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 50ms reading results.
2023-09-11 11:26:39.199 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:26:39.204 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-09-11 11:26:39.222 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1296.1229ms.
2023-09-11 11:26:39.224 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:26:39.227 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:26:39.228 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:26:39.228 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:26:39.229 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:26:39.229 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:26:39.340 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1724.0789ms
2023-09-11 11:26:39.341 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:26:39.342 +03:30 [DBG] Connection id "0HMTIJIELN6TB" completed keep alive response.
2023-09-11 11:26:39.346 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:26:39.354 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:26:39.357 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:26:39.358 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 200 524 application/json;+charset=utf-8 1862.4035ms
2023-09-11 11:27:14.206 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:27:14.286 +03:30 [DBG] Hosting starting
2023-09-11 11:27:14.312 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:27:14.315 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:27:14.322 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:27:14.333 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:27:14.335 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:27:14.338 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:27:14.340 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:27:14.345 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:27:14.347 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:27:14.349 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:27:14.350 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:27:14.451 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:27:14.480 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:27:14.480 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:27:14.481 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:27:14.481 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:27:14.481 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:27:14.482 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:27:14.482 +03:30 [INF] Hosting environment: Development
2023-09-11 11:27:14.483 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:27:14.483 +03:30 [DBG] Hosting started
2023-09-11 11:27:14.681 +03:30 [DBG] Connection id "0HMTIJIR5CL8A" received FIN.
2023-09-11 11:27:14.681 +03:30 [DBG] Connection id "0HMTIJIR5CL89" received FIN.
2023-09-11 11:27:14.688 +03:30 [DBG] Connection id "0HMTIJIR5CL89" accepted.
2023-09-11 11:27:14.688 +03:30 [DBG] Connection id "0HMTIJIR5CL8A" accepted.
2023-09-11 11:27:14.689 +03:30 [DBG] Connection id "0HMTIJIR5CL89" started.
2023-09-11 11:27:14.689 +03:30 [DBG] Connection id "0HMTIJIR5CL8A" started.
2023-09-11 11:27:14.699 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:27:14.699 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:27:14.721 +03:30 [DBG] Connection id "0HMTIJIR5CL89" stopped.
2023-09-11 11:27:14.721 +03:30 [DBG] Connection id "0HMTIJIR5CL8A" stopped.
2023-09-11 11:27:14.724 +03:30 [DBG] Connection id "0HMTIJIR5CL89" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:27:14.724 +03:30 [DBG] Connection id "0HMTIJIR5CL8A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:27:14.882 +03:30 [DBG] Connection id "0HMTIJIR5CL8B" accepted.
2023-09-11 11:27:14.882 +03:30 [DBG] Connection id "0HMTIJIR5CL8B" started.
2023-09-11 11:27:14.921 +03:30 [DBG] Connection 0HMTIJIR5CL8B established using the following protocol: "Tls12"
2023-09-11 11:27:14.955 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:27:14.980 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:27:15.168 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:27:15.301 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:27:15.302 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:27:15.305 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:27:15.307 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.5847ms
2023-09-11 11:27:15.307 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 355.4894ms
2023-09-11 11:27:15.324 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.1604ms
2023-09-11 11:27:15.428 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:27:15.571 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.8375ms
2023-09-11 11:27:18.780 +03:30 [DBG] Connection id "0HMTIJIR5CL8C" accepted.
2023-09-11 11:27:18.780 +03:30 [DBG] Connection id "0HMTIJIR5CL8C" received FIN.
2023-09-11 11:27:18.781 +03:30 [DBG] Connection id "0HMTIJIR5CL8C" started.
2023-09-11 11:27:18.781 +03:30 [DBG] Connection id "0HMTIJIR5CL8D" accepted.
2023-09-11 11:27:18.782 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:27:18.782 +03:30 [DBG] Connection id "0HMTIJIR5CL8D" started.
2023-09-11 11:27:18.784 +03:30 [DBG] Connection id "0HMTIJIR5CL8C" stopped.
2023-09-11 11:27:18.784 +03:30 [DBG] Connection id "0HMTIJIR5CL8C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:27:18.787 +03:30 [DBG] Connection 0HMTIJIR5CL8D established using the following protocol: "Tls12"
2023-09-11 11:27:18.795 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 11:27:18.797 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:27:18.819 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 11:27:18.824 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 11:27:18.826 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:27:18.884 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 11:27:18.886 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 11:27:18.888 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:27:18.910 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:27:18.913 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:27:18.914 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:27:18.915 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:27:18.915 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:27:18.916 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:27:18.917 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:27:19.031 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:27:19.186 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:27:19.240 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:27:20.022 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:27:20.068 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointOfIntrest)
    .OrderBy(city => city.Name)'
2023-09-11 11:27:20.187 +03:30 [DBG] Including navigation: 'City.PointOfIntrest'.
2023-09-11 11:27:20.496 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 4], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 5], [Property: PointOfIntrest.cityId (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityId
        FROM Cities AS c
        LEFT JOIN PointsOfIntrest AS p ON c.Id == p.cityId
        ORDER BY c.Name ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:27:20.538 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:27:20.543 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:27:20.563 +03:30 [DBG] Created DbConnection. (17ms).
2023-09-11 11:27:20.572 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2023-09-11 11:27:20.574 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2023-09-11 11:27:20.585 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:27:20.602 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:27:20.612 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:27:20.636 +03:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:27:20.662 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.695 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.699 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.701 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.703 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.703 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.704 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.704 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.705 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.705 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.706 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.707 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.707 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.708 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.710 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.711 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:27:20.719 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:27:20.728 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 82ms reading results.
2023-09-11 11:27:20.735 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:27:20.741 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2023-09-11 11:27:20.762 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1516.2146ms.
2023-09-11 11:27:20.765 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:27:20.768 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:27:20.769 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:27:20.769 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:27:20.770 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:27:20.771 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:27:20.879 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1956.9194ms
2023-09-11 11:27:20.880 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:27:20.881 +03:30 [DBG] Connection id "0HMTIJIR5CL8D" completed keep alive response.
2023-09-11 11:27:20.885 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:27:20.893 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:27:20.896 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-09-11 11:27:20.896 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 200 1402 application/json;+charset=utf-8 2101.1172ms
2023-09-11 11:28:46.486 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:28:46.569 +03:30 [DBG] Hosting starting
2023-09-11 11:28:46.595 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:28:46.598 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:28:46.606 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:28:46.615 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:28:46.618 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:28:46.622 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:28:46.623 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:28:46.628 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:28:46.630 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:28:46.634 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:28:46.635 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:28:46.725 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:28:46.762 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:28:46.762 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:28:46.763 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:28:46.763 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:28:46.763 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:28:46.764 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:28:46.765 +03:30 [INF] Hosting environment: Development
2023-09-11 11:28:46.765 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:28:46.766 +03:30 [DBG] Hosting started
2023-09-11 11:28:46.939 +03:30 [DBG] Connection id "0HMTIJJML6N3K" accepted.
2023-09-11 11:28:46.941 +03:30 [DBG] Connection id "0HMTIJJML6N3K" started.
2023-09-11 11:28:46.943 +03:30 [DBG] Connection id "0HMTIJJML6N3L" accepted.
2023-09-11 11:28:46.943 +03:30 [DBG] Connection id "0HMTIJJML6N3L" started.
2023-09-11 11:28:46.960 +03:30 [DBG] Connection id "0HMTIJJML6N3K" received FIN.
2023-09-11 11:28:46.960 +03:30 [DBG] Connection id "0HMTIJJML6N3L" received FIN.
2023-09-11 11:28:46.974 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:28:46.974 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:28:47.007 +03:30 [DBG] Connection id "0HMTIJJML6N3L" stopped.
2023-09-11 11:28:47.007 +03:30 [DBG] Connection id "0HMTIJJML6N3K" stopped.
2023-09-11 11:28:47.010 +03:30 [DBG] Connection id "0HMTIJJML6N3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:28:47.010 +03:30 [DBG] Connection id "0HMTIJJML6N3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:28:47.138 +03:30 [DBG] Connection id "0HMTIJJML6N3M" accepted.
2023-09-11 11:28:47.143 +03:30 [DBG] Connection id "0HMTIJJML6N3M" started.
2023-09-11 11:28:47.146 +03:30 [DBG] Connection id "0HMTIJJML6N3N" accepted.
2023-09-11 11:28:47.149 +03:30 [DBG] Connection id "0HMTIJJML6N3N" started.
2023-09-11 11:28:47.147 +03:30 [DBG] Connection id "0HMTIJJML6N3N" received FIN.
2023-09-11 11:28:47.150 +03:30 [DBG] Connection id "0HMTIJJML6N3O" accepted.
2023-09-11 11:28:47.152 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:28:47.152 +03:30 [DBG] Connection id "0HMTIJJML6N3O" started.
2023-09-11 11:28:47.157 +03:30 [DBG] Connection id "0HMTIJJML6N3N" stopped.
2023-09-11 11:28:47.157 +03:30 [DBG] Connection id "0HMTIJJML6N3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:28:47.180 +03:30 [DBG] Connection 0HMTIJJML6N3M established using the following protocol: "Tls12"
2023-09-11 11:28:47.180 +03:30 [DBG] Connection 0HMTIJJML6N3O established using the following protocol: "Tls12"
2023-09-11 11:28:47.212 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:28:47.212 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/5?includePointOfIntrest=true - -
2023-09-11 11:28:47.226 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:28:47.261 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:28:47.289 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/5'
2023-09-11 11:28:47.294 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/Cities/5'
2023-09-11 11:28:47.295 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:28:47.346 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:28:47.351 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:28:47.385 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:28:47.388 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:28:47.389 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:28:47.390 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:28:47.390 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:28:47.391 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:28:47.392 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:28:47.466 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:28:47.524 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:28:47.584 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:28:47.588 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:28:47.590 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.7476ms
2023-09-11 11:28:47.590 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:28:47.595 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 387.7636ms
2023-09-11 11:28:47.607 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.4312ms
2023-09-11 11:28:47.724 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:28:47.725 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:28:47.743 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-11 11:28:47.745 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-11 11:28:47.748 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:28:47.750 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:28:47.751 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-11 11:28:47.755 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-11 11:28:47.757 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:28:47.758 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' using the name 'includePointOfIntrest' in request data ...
2023-09-11 11:28:47.759 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:28:47.760 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:28:47.761 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:28:47.761 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:28:47.821 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:28:47.950 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 225.9861ms
2023-09-11 11:28:48.678 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:28:48.750 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointOfIntrest)
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-11 11:28:48.845 +03:30 [DBG] Including navigation: 'City.PointOfIntrest'.
2023-09-11 11:28:49.158 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 4], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 5], [Property: PointOfIntrest.cityId (int) Required FK Index, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.Description, p.Name, p.cityId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfIntrest AS p ON t.Id == p.cityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:28:49.205 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:28:49.209 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:28:49.228 +03:30 [DBG] Created DbConnection. (15ms).
2023-09-11 11:28:49.237 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-11 11:28:49.242 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2023-09-11 11:28:49.251 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:28:49.266 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:28:49.290 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfIntrest" AS "p" ON "t"."Id" = "p"."cityId"
ORDER BY "t"."Id"
2023-09-11 11:28:49.318 +03:30 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfIntrest" AS "p" ON "t"."Id" = "p"."cityId"
ORDER BY "t"."Id"
2023-09-11 11:28:49.342 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:28:49.376 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:28:49.380 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:28:49.382 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:28:49.390 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:28:49.398 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 71ms reading results.
2023-09-11 11:28:49.405 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:28:49.410 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-09-11 11:28:49.425 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1599.2372ms.
2023-09-11 11:28:49.427 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:28:49.430 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:28:49.431 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:28:49.432 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:28:49.433 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:28:49.434 +03:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-09-11 11:28:49.537 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) in 2141.9895ms
2023-09-11 11:28:49.539 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:28:49.540 +03:30 [DBG] Connection id "0HMTIJJML6N3O" completed keep alive response.
2023-09-11 11:28:49.544 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:28:49.551 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:28:49.554 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:28:49.555 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/5?includePointOfIntrest=true - - - 200 344 application/json;+charset=utf-8 2347.5179ms
2023-09-11 11:29:07.230 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/5?includePointOfIntrest=false - -
2023-09-11 11:29:07.231 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:29:07.232 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/5'
2023-09-11 11:29:07.233 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/Cities/5'
2023-09-11 11:29:07.233 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:29:07.234 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:29:07.235 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:29:07.235 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:29:07.236 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:29:07.236 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:29:07.237 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:29:07.238 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:29:07.239 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:29:07.239 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:29:07.240 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:29:07.240 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-11 11:29:07.241 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-11 11:29:07.242 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:29:07.243 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:29:07.244 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-11 11:29:07.245 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-11 11:29:07.246 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:29:07.247 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' using the name 'includePointOfIntrest' in request data ...
2023-09-11 11:29:07.248 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:29:07.248 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:29:07.249 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:29:07.250 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:29:07.264 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:29:07.266 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:29:07.267 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-11 11:29:07.270 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:29:07.271 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:29:07.271 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:29:07.272 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:29:07.272 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:29:07.273 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:29:07.273 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:29:07.274 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:29:07.274 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:29:07.275 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:29:07.276 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:29:07.277 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:29:07.277 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-09-11 11:29:07.279 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:29:07.280 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:29:07.282 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.7341ms.
2023-09-11 11:29:07.282 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:29:07.284 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:29:07.284 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:29:07.284 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:29:07.285 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:29:07.285 +03:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfIntrestDto'.
2023-09-11 11:29:07.287 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) in 47.479ms
2023-09-11 11:29:07.287 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:29:07.288 +03:30 [DBG] Connection id "0HMTIJJML6N3O" completed keep alive response.
2023-09-11 11:29:07.288 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:29:07.288 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:29:07.289 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:29:07.290 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/5?includePointOfIntrest=false - - - 200 55 application/json;+charset=utf-8 59.4665ms
2023-09-11 11:29:17.897 +03:30 [DBG] Connection id "0HMTIJJML6N3O" received FIN.
2023-09-11 11:29:17.901 +03:30 [DBG] Connection id "0HMTIJJML6N3O" disconnecting.
2023-09-11 11:29:17.902 +03:30 [DBG] Connection id "0HMTIJJML6N3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:29:17.914 +03:30 [DBG] Connection id "0HMTIJJML6N3O" stopped.
2023-09-11 11:29:59.785 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:29:59.879 +03:30 [DBG] Hosting starting
2023-09-11 11:29:59.917 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:29:59.919 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:29:59.930 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:29:59.939 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:29:59.942 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:29:59.945 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:29:59.946 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:29:59.951 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:29:59.952 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:29:59.956 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:29:59.961 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:30:00.104 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:30:00.145 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:30:00.146 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:30:00.147 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:30:00.148 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:30:00.148 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:30:00.149 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:30:00.150 +03:30 [INF] Hosting environment: Development
2023-09-11 11:30:00.151 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:30:00.151 +03:30 [DBG] Hosting started
2023-09-11 11:30:00.294 +03:30 [DBG] Connection id "0HMTIJKCGPNMK" received FIN.
2023-09-11 11:30:00.301 +03:30 [DBG] Connection id "0HMTIJKCGPNMK" accepted.
2023-09-11 11:30:00.303 +03:30 [DBG] Connection id "0HMTIJKCGPNMK" started.
2023-09-11 11:30:00.315 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:30:00.343 +03:30 [DBG] Connection id "0HMTIJKCGPNMK" stopped.
2023-09-11 11:30:00.346 +03:30 [DBG] Connection id "0HMTIJKCGPNMK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:30:00.545 +03:30 [DBG] Connection id "0HMTIJKCGPNML" accepted.
2023-09-11 11:30:00.546 +03:30 [DBG] Connection id "0HMTIJKCGPNML" started.
2023-09-11 11:30:00.587 +03:30 [DBG] Connection 0HMTIJKCGPNML established using the following protocol: "Tls12"
2023-09-11 11:30:00.626 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:30:00.652 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:30:00.836 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:30:00.939 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:30:00.943 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:30:00.946 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:30:00.946 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.9799ms
2023-09-11 11:30:00.947 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 325.2637ms
2023-09-11 11:30:00.963 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.8331ms
2023-09-11 11:30:01.056 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:30:01.216 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.5956ms
2023-09-11 11:30:29.055 +03:30 [DBG] Connection id "0HMTIJKCGPNMM" accepted.
2023-09-11 11:30:29.059 +03:30 [DBG] Connection id "0HMTIJKCGPNMM" received FIN.
2023-09-11 11:30:29.059 +03:30 [DBG] Connection id "0HMTIJKCGPNMM" started.
2023-09-11 11:30:29.059 +03:30 [DBG] Connection id "0HMTIJKCGPNMN" accepted.
2023-09-11 11:30:29.065 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:30:29.065 +03:30 [DBG] Connection id "0HMTIJKCGPNMN" started.
2023-09-11 11:30:29.067 +03:30 [DBG] Connection id "0HMTIJKCGPNMM" stopped.
2023-09-11 11:30:29.069 +03:30 [DBG] Connection id "0HMTIJKCGPNMM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:30:29.075 +03:30 [DBG] Connection 0HMTIJKCGPNMN established using the following protocol: "Tls12"
2023-09-11 11:30:29.083 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest=false&id=5 - -
2023-09-11 11:30:29.085 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:30:29.106 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/'
2023-09-11 11:30:29.111 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities/'
2023-09-11 11:30:29.112 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:29.155 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:30:29.158 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:29.177 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:30:29.179 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:30:29.180 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:30:29.180 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:30:29.181 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:30:29.182 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:30:29.183 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:30:29.295 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:30:29.440 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:30:29.497 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:30:30.252 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:30:30.299 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointOfIntrest)
    .OrderBy(city => city.Name)'
2023-09-11 11:30:30.411 +03:30 [DBG] Including navigation: 'City.PointOfIntrest'.
2023-09-11 11:30:30.697 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 4], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 5], [Property: PointOfIntrest.cityId (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityId
        FROM Cities AS c
        LEFT JOIN PointsOfIntrest AS p ON c.Id == p.cityId
        ORDER BY c.Name ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:30:30.743 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:30:30.746 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:30:30.764 +03:30 [DBG] Created DbConnection. (14ms).
2023-09-11 11:30:30.773 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-09-11 11:30:30.775 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2023-09-11 11:30:30.786 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:30:30.800 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:30.812 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:30:30.840 +03:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:30:30.865 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.899 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.905 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.908 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.909 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.910 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.910 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.911 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.912 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.913 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.914 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.916 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.917 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.918 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.920 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.922 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:30.931 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:30.941 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 91ms reading results.
2023-09-11 11:30:30.949 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:30.954 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-09-11 11:30:30.980 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1477.4649ms.
2023-09-11 11:30:30.983 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:30:30.988 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:30:30.989 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:30:30.989 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:30:30.990 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:30:30.991 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:30:31.097 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1910.0249ms
2023-09-11 11:30:31.098 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:31.098 +03:30 [DBG] Connection id "0HMTIJKCGPNMN" completed keep alive response.
2023-09-11 11:30:31.104 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:30:31.111 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:30:31.114 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:30:31.115 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest=false&id=5 - - - 200 1402 application/json;+charset=utf-8 2031.8763ms
2023-09-11 11:30:47.800 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest/city/=false&id=5 - -
2023-09-11 11:30:47.801 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:30:47.802 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/'
2023-09-11 11:30:47.803 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities/'
2023-09-11 11:30:47.804 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:47.805 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:30:47.805 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:47.806 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:30:47.807 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:30:47.808 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:30:47.809 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:30:47.810 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:30:47.811 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:30:47.812 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:30:47.813 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:30:47.828 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:30:47.841 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:30:47.852 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:30:47.854 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:30:47.855 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:30:47.855 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-09-11 11:30:47.856 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-09-11 11:30:47.856 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:30:47.857 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:47.858 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:30:47.859 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:30:47.860 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.861 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.861 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.862 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.863 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.863 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.864 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.869 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.870 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.871 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.872 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.872 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.873 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.874 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.874 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.875 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:30:47.876 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:47.877 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 16ms reading results.
2023-09-11 11:30:47.877 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:30:47.879 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-09-11 11:30:47.879 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.7918ms.
2023-09-11 11:30:47.884 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:30:47.885 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:30:47.886 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:30:47.886 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:30:47.887 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:30:47.887 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:30:47.888 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 76.2929ms
2023-09-11 11:30:47.889 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:30:47.889 +03:30 [DBG] Connection id "0HMTIJKCGPNMN" completed keep alive response.
2023-09-11 11:30:47.890 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:30:47.890 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:30:47.891 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:30:47.892 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest/city/=false&id=5 - - - 200 1402 application/json;+charset=utf-8 91.6633ms
2023-09-11 11:31:05.757 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:31:05.855 +03:30 [DBG] Hosting starting
2023-09-11 11:31:05.878 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:31:05.880 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:31:05.888 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:31:05.897 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:31:05.899 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:31:05.902 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:31:05.904 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:31:05.908 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:31:05.910 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:31:05.912 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:31:05.914 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:31:06.005 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:31:06.044 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:31:06.044 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:31:06.045 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:31:06.046 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:31:06.046 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:31:06.047 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:31:06.048 +03:30 [INF] Hosting environment: Development
2023-09-11 11:31:06.048 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:31:06.049 +03:30 [DBG] Hosting started
2023-09-11 11:31:06.262 +03:30 [DBG] Connection id "0HMTIJL05SQA6" accepted.
2023-09-11 11:31:06.262 +03:30 [DBG] Connection id "0HMTIJL05SQA5" accepted.
2023-09-11 11:31:06.263 +03:30 [DBG] Connection id "0HMTIJL05SQA6" started.
2023-09-11 11:31:06.264 +03:30 [DBG] Connection id "0HMTIJL05SQA5" started.
2023-09-11 11:31:06.270 +03:30 [DBG] Connection id "0HMTIJL05SQA5" received FIN.
2023-09-11 11:31:06.270 +03:30 [DBG] Connection id "0HMTIJL05SQA6" received FIN.
2023-09-11 11:31:06.274 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:31:06.274 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:31:06.299 +03:30 [DBG] Connection id "0HMTIJL05SQA6" stopped.
2023-09-11 11:31:06.299 +03:30 [DBG] Connection id "0HMTIJL05SQA5" stopped.
2023-09-11 11:31:06.303 +03:30 [DBG] Connection id "0HMTIJL05SQA6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:31:06.303 +03:30 [DBG] Connection id "0HMTIJL05SQA5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:31:06.430 +03:30 [DBG] Connection id "0HMTIJL05SQA7" accepted.
2023-09-11 11:31:06.431 +03:30 [DBG] Connection id "0HMTIJL05SQA7" started.
2023-09-11 11:31:06.466 +03:30 [DBG] Connection 0HMTIJL05SQA7 established using the following protocol: "Tls12"
2023-09-11 11:31:06.502 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:31:06.527 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:31:06.716 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:31:06.823 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:31:06.834 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 335.6721ms
2023-09-11 11:31:06.835 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:31:06.835 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:31:06.844 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.9800ms
2023-09-11 11:31:06.852 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.9154ms
2023-09-11 11:31:06.945 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:31:07.107 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.8066ms
2023-09-11 11:31:14.659 +03:30 [DBG] Connection id "0HMTIJL05SQA8" accepted.
2023-09-11 11:31:14.659 +03:30 [DBG] Connection id "0HMTIJL05SQA8" received FIN.
2023-09-11 11:31:14.660 +03:30 [DBG] Connection id "0HMTIJL05SQA8" started.
2023-09-11 11:31:14.660 +03:30 [DBG] Connection id "0HMTIJL05SQA9" accepted.
2023-09-11 11:31:14.662 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:31:14.662 +03:30 [DBG] Connection id "0HMTIJL05SQA9" started.
2023-09-11 11:31:14.665 +03:30 [DBG] Connection id "0HMTIJL05SQA8" stopped.
2023-09-11 11:31:14.665 +03:30 [DBG] Connection id "0HMTIJL05SQA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:31:14.668 +03:30 [DBG] Connection 0HMTIJL05SQA9 established using the following protocol: "Tls12"
2023-09-11 11:31:14.676 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest/city/=false&id=5 - -
2023-09-11 11:31:14.678 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:31:14.701 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/'
2023-09-11 11:31:14.706 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities/'
2023-09-11 11:31:14.708 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:31:14.754 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:31:14.756 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:31:14.777 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:31:14.782 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:31:14.783 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:31:14.784 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:31:14.784 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:31:14.785 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:31:14.786 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:31:14.896 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:31:15.047 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:31:15.102 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:31:15.860 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:31:15.904 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointOfIntrest)
    .OrderBy(city => city.Name)'
2023-09-11 11:31:16.016 +03:30 [DBG] Including navigation: 'City.PointOfIntrest'.
2023-09-11 11:31:16.297 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 4], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 5], [Property: PointOfIntrest.cityId (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityId
        FROM Cities AS c
        LEFT JOIN PointsOfIntrest AS p ON c.Id == p.cityId
        ORDER BY c.Name ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:31:16.337 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:31:16.341 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:31:16.360 +03:30 [DBG] Created DbConnection. (14ms).
2023-09-11 11:31:16.369 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-09-11 11:31:16.372 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2023-09-11 11:31:16.381 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:31:16.394 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:16.407 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:31:16.434 +03:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:31:16.460 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.493 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.497 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.499 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.500 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.501 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.501 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.502 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.503 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.503 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.504 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.505 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.505 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.506 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.508 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.509 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:16.518 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:16.526 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 83ms reading results.
2023-09-11 11:31:16.533 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:16.538 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-09-11 11:31:16.557 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1450.1335ms.
2023-09-11 11:31:16.560 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:31:16.565 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:31:16.565 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:31:16.566 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:31:16.566 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:31:16.567 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:31:16.677 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1887.627ms
2023-09-11 11:31:16.681 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:31:16.682 +03:30 [DBG] Connection id "0HMTIJL05SQA9" completed keep alive response.
2023-09-11 11:31:16.686 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:31:16.692 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:31:16.694 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-09-11 11:31:16.699 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/?includePointOfIntrest/city/=false&id=5 - - - 200 1402 application/json;+charset=utf-8 2023.0861ms
2023-09-11 11:31:38.205 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/city/?includePointOfIntrest=false&id=5 - -
2023-09-11 11:31:38.206 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:31:38.208 +03:30 [DBG] No candidates found for the request path '/api/Cities/city/'
2023-09-11 11:31:38.208 +03:30 [DBG] Request did not match any endpoints
2023-09-11 11:31:38.210 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:31:38.211 +03:30 [DBG] Connection id "0HMTIJL05SQA9" completed keep alive response.
2023-09-11 11:31:38.211 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/city/?includePointOfIntrest=false&id=5 - - - 404 0 - 6.3613ms
2023-09-11 11:31:49.877 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:31:49.968 +03:30 [DBG] Hosting starting
2023-09-11 11:31:49.994 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:31:49.997 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:31:50.004 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:31:50.015 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:31:50.017 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:31:50.020 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:31:50.021 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:31:50.026 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:31:50.028 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:31:50.030 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:31:50.031 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:31:50.124 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:31:50.162 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:31:50.163 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:31:50.163 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:31:50.164 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:31:50.164 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:31:50.165 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:31:50.165 +03:30 [INF] Hosting environment: Development
2023-09-11 11:31:50.166 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:31:50.166 +03:30 [DBG] Hosting started
2023-09-11 11:31:50.451 +03:30 [DBG] Connection id "0HMTIJLDBB1JH" received FIN.
2023-09-11 11:31:50.460 +03:30 [DBG] Connection id "0HMTIJLDBB1JH" accepted.
2023-09-11 11:31:50.462 +03:30 [DBG] Connection id "0HMTIJLDBB1JH" started.
2023-09-11 11:31:50.473 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:31:50.497 +03:30 [DBG] Connection id "0HMTIJLDBB1JH" stopped.
2023-09-11 11:31:50.500 +03:30 [DBG] Connection id "0HMTIJLDBB1JH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:31:50.615 +03:30 [DBG] Connection id "0HMTIJLDBB1JI" accepted.
2023-09-11 11:31:50.616 +03:30 [DBG] Connection id "0HMTIJLDBB1JI" started.
2023-09-11 11:31:50.652 +03:30 [DBG] Connection 0HMTIJLDBB1JI established using the following protocol: "Tls12"
2023-09-11 11:31:50.689 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:31:50.717 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:31:50.905 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:31:51.009 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:31:51.015 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 328.5411ms
2023-09-11 11:31:51.016 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:31:51.021 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.7400ms
2023-09-11 11:31:51.022 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:31:51.035 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.7315ms
2023-09-11 11:31:51.119 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:31:51.262 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.7587ms
2023-09-11 11:31:52.837 +03:30 [DBG] Connection id "0HMTIJLDBB1JJ" accepted.
2023-09-11 11:31:52.838 +03:30 [DBG] Connection id "0HMTIJLDBB1JJ" received FIN.
2023-09-11 11:31:52.839 +03:30 [DBG] Connection id "0HMTIJLDBB1JJ" started.
2023-09-11 11:31:52.839 +03:30 [DBG] Connection id "0HMTIJLDBB1JK" accepted.
2023-09-11 11:31:52.842 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:31:52.842 +03:30 [DBG] Connection id "0HMTIJLDBB1JK" started.
2023-09-11 11:31:52.845 +03:30 [DBG] Connection id "0HMTIJLDBB1JJ" stopped.
2023-09-11 11:31:52.846 +03:30 [DBG] Connection id "0HMTIJLDBB1JJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:31:52.849 +03:30 [DBG] Connection 0HMTIJLDBB1JK established using the following protocol: "Tls12"
2023-09-11 11:31:52.858 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities/city/?includePointOfIntrest=false&id=5 - -
2023-09-11 11:31:52.861 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:31:52.882 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities/city/'
2023-09-11 11:31:52.887 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/city' is valid for the request path '/api/Cities/city/'
2023-09-11 11:31:52.889 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:31:52.930 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:31:52.933 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:31:52.963 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:31:52.966 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:31:52.966 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:31:52.967 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:31:52.969 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:31:52.969 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:31:52.970 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:31:53.077 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:31:53.225 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:31:53.233 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-11 11:31:53.234 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-11 11:31:53.235 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:31:53.236 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-11 11:31:53.237 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-11 11:31:53.239 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-11 11:31:53.243 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:31:53.244 +03:30 [DBG] Attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean' using the name 'includePointOfIntrest' in request data ...
2023-09-11 11:31:53.245 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:31:53.245 +03:30 [DBG] Done attempting to bind parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:31:53.246 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean' ...
2023-09-11 11:31:53.247 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfIntrest' of type 'System.Boolean'.
2023-09-11 11:31:53.305 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:31:54.059 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:31:54.120 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-11 11:31:54.411 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:31:54.459 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:31:54.462 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:31:54.480 +03:30 [DBG] Created DbConnection. (14ms).
2023-09-11 11:31:54.488 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-09-11 11:31:54.494 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2023-09-11 11:31:54.503 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:31:54.516 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:54.530 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:31:54.560 +03:30 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:31:54.587 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:31:54.610 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:54.618 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 48ms reading results.
2023-09-11 11:31:54.625 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:31:54.631 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2023-09-11 11:31:54.643 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1330.9505ms.
2023-09-11 11:31:54.646 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:31:54.649 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:31:54.649 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:31:54.650 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:31:54.651 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:31:54.651 +03:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfIntrestDto'.
2023-09-11 11:31:54.748 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API) in 1774.2822ms
2023-09-11 11:31:54.749 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-11 11:31:54.750 +03:30 [DBG] Connection id "0HMTIJLDBB1JK" completed keep alive response.
2023-09-11 11:31:54.755 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:31:54.765 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:31:54.768 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:31:54.769 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities/city/?includePointOfIntrest=false&id=5 - - - 200 55 application/json;+charset=utf-8 1910.9141ms
2023-09-11 11:33:22.413 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:33:22.504 +03:30 [DBG] Hosting starting
2023-09-11 11:33:22.529 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:33:22.532 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:33:22.539 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:33:22.548 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:33:22.551 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:33:22.555 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:33:22.556 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:33:22.561 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:33:22.564 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:33:22.570 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:33:22.571 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:33:22.663 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:33:22.694 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:33:22.694 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:33:22.695 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:33:22.696 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:33:22.696 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:33:22.699 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:33:22.699 +03:30 [INF] Hosting environment: Development
2023-09-11 11:33:22.700 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:33:22.700 +03:30 [DBG] Hosting started
2023-09-11 11:33:22.983 +03:30 [DBG] Connection id "0HMTIJM8TPG1Q" reset.
2023-09-11 11:33:22.983 +03:30 [DBG] Connection id "0HMTIJM8TPG1P" reset.
2023-09-11 11:33:22.990 +03:30 [DBG] Connection id "0HMTIJM8TPG1P" accepted.
2023-09-11 11:33:22.990 +03:30 [DBG] Connection id "0HMTIJM8TPG1Q" accepted.
2023-09-11 11:33:22.991 +03:30 [DBG] Connection id "0HMTIJM8TPG1Q" started.
2023-09-11 11:33:22.991 +03:30 [DBG] Connection id "0HMTIJM8TPG1P" started.
2023-09-11 11:33:23.003 +03:30 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.DoReceive()
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at System.IO.Pipelines.Pipe.DefaultPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:33:23.003 +03:30 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.DoReceive()
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at System.IO.Pipelines.Pipe.DefaultPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:33:23.041 +03:30 [DBG] Connection id "0HMTIJM8TPG1Q" stopped.
2023-09-11 11:33:23.043 +03:30 [DBG] Connection id "0HMTIJM8TPG1P" stopped.
2023-09-11 11:33:23.051 +03:30 [DBG] Connection id "0HMTIJM8TPG1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:33:23.051 +03:30 [DBG] Connection id "0HMTIJM8TPG1P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:33:23.154 +03:30 [DBG] Connection id "0HMTIJM8TPG1R" accepted.
2023-09-11 11:33:23.155 +03:30 [DBG] Connection id "0HMTIJM8TPG1R" started.
2023-09-11 11:33:23.194 +03:30 [DBG] Connection 0HMTIJM8TPG1R established using the following protocol: "Tls12"
2023-09-11 11:33:23.228 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:33:23.254 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:33:23.438 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:33:23.537 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:33:23.540 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:33:23.542 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.7998ms
2023-09-11 11:33:23.543 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:33:23.543 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 318.6611ms
2023-09-11 11:33:23.560 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.8384ms
2023-09-11 11:33:23.655 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:33:23.800 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.8729ms
2023-09-11 11:34:27.184 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/api/files - -
2023-09-11 11:34:27.192 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:34:27.212 +03:30 [DBG] 1 candidate(s) found for the request path '/api/files'
2023-09-11 11:34:27.218 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)' with route pattern 'api/files' is valid for the request path '/api/files'
2023-09-11 11:34:27.219 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2023-09-11 11:34:27.259 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:34:27.261 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2023-09-11 11:34:27.275 +03:30 [INF] Route matched with {action = "GetFile", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetFile() on controller CityInfo.API.Controllers.FilesController (CityInfo.API).
2023-09-11 11:34:27.276 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:34:27.277 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:34:27.277 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:34:27.278 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:34:27.279 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:34:27.280 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2023-09-11 11:34:27.281 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2023-09-11 11:34:27.323 +03:30 [INF] Executing action method CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:34:27.335 +03:30 [INF] Executed action method CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 6.5698ms.
2023-09-11 11:34:27.340 +03:30 [INF] Executing FileContentResult, sending file with download name 'webapiBanner.rar' ...
2023-09-11 11:34:27.343 +03:30 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2023-09-11 11:34:27.351 +03:30 [INF] Executed action CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API) in 67.3955ms
2023-09-11 11:34:27.352 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2023-09-11 11:34:27.352 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/api/files - - - 200 150012 application/octet-stream 171.3895ms
2023-09-11 11:38:50.040 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 11:38:50.121 +03:30 [DBG] Hosting starting
2023-09-11 11:38:50.144 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 11:38:50.146 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 11:38:50.154 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 11:38:50.164 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 11:38:50.167 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:38:50.170 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 11:38:50.173 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 11:38:50.177 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 11:38:50.179 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 11:38:50.181 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 11:38:50.182 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 11:38:50.276 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 11:38:50.315 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 11:38:50.316 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 11:38:50.316 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 11:38:50.317 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 11:38:50.317 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 11:38:50.318 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 11:38:50.318 +03:30 [INF] Hosting environment: Development
2023-09-11 11:38:50.319 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 11:38:50.319 +03:30 [DBG] Hosting started
2023-09-11 11:38:50.502 +03:30 [DBG] Connection id "0HMTIJPAH7CC8" accepted.
2023-09-11 11:38:50.502 +03:30 [DBG] Connection id "0HMTIJPAH7CC9" accepted.
2023-09-11 11:38:50.508 +03:30 [DBG] Connection id "0HMTIJPAH7CC8" started.
2023-09-11 11:38:50.508 +03:30 [DBG] Connection id "0HMTIJPAH7CC9" started.
2023-09-11 11:38:50.509 +03:30 [DBG] Connection id "0HMTIJPAH7CC9" received FIN.
2023-09-11 11:38:50.509 +03:30 [DBG] Connection id "0HMTIJPAH7CC8" received FIN.
2023-09-11 11:38:50.519 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:38:50.519 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:38:50.545 +03:30 [DBG] Connection id "0HMTIJPAH7CC9" stopped.
2023-09-11 11:38:50.545 +03:30 [DBG] Connection id "0HMTIJPAH7CC8" stopped.
2023-09-11 11:38:50.548 +03:30 [DBG] Connection id "0HMTIJPAH7CC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:38:50.548 +03:30 [DBG] Connection id "0HMTIJPAH7CC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:38:50.679 +03:30 [DBG] Connection id "0HMTIJPAH7CCA" accepted.
2023-09-11 11:38:50.680 +03:30 [DBG] Connection id "0HMTIJPAH7CCA" started.
2023-09-11 11:38:50.722 +03:30 [DBG] Connection 0HMTIJPAH7CCA established using the following protocol: "Tls12"
2023-09-11 11:38:50.761 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 11:38:50.787 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 11:38:50.965 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 11:38:51.066 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 11:38:51.068 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 11:38:51.072 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.9168ms
2023-09-11 11:38:51.072 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 11:38:51.073 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 316.4707ms
2023-09-11 11:38:51.088 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.9439ms
2023-09-11 11:38:51.177 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 11:38:51.315 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.3182ms
2023-09-11 11:39:06.623 +03:30 [DBG] Connection id "0HMTIJPAH7CCB" accepted.
2023-09-11 11:39:06.627 +03:30 [DBG] Connection id "0HMTIJPAH7CCB" received FIN.
2023-09-11 11:39:06.627 +03:30 [DBG] Connection id "0HMTIJPAH7CCB" started.
2023-09-11 11:39:06.627 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" accepted.
2023-09-11 11:39:06.629 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 11:39:06.629 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" started.
2023-09-11 11:39:06.631 +03:30 [DBG] Connection id "0HMTIJPAH7CCB" stopped.
2023-09-11 11:39:06.632 +03:30 [DBG] Connection id "0HMTIJPAH7CCB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:39:06.638 +03:30 [DBG] Connection 0HMTIJPAH7CCC established using the following protocol: "Tls12"
2023-09-11 11:39:06.647 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 11:39:06.649 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:39:06.670 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 11:39:06.676 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 11:39:06.677 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:39:06.721 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:39:06.723 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:39:06.743 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:39:06.745 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:39:06.746 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:39:06.747 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:39:06.749 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:39:06.750 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:39:06.751 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:39:06.860 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-11 11:39:07.004 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:39:07.063 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:39:07.829 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:39:07.873 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointOfIntrest)
    .OrderBy(city => city.Name)'
2023-09-11 11:39:07.983 +03:30 [DBG] Including navigation: 'City.PointOfIntrest'.
2023-09-11 11:39:08.263 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 4], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 5], [Property: PointOfIntrest.cityId (int) Required FK Index, 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.Description, p.Name, p.cityId
        FROM Cities AS c
        LEFT JOIN PointsOfIntrest AS p ON c.Id == p.cityId
        ORDER BY c.Name ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContexts, 
    False, 
    False, 
    True
)'
2023-09-11 11:39:08.302 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:39:08.306 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:39:08.326 +03:30 [DBG] Created DbConnection. (15ms).
2023-09-11 11:39:08.335 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2023-09-11 11:39:08.338 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2023-09-11 11:39:08.347 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:08.362 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:08.374 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:39:08.401 +03:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:39:08.425 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.457 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.462 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.465 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.465 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.466 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.468 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.469 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.469 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.470 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.471 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.472 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.472 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.475 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.476 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.476 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:08.485 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:08.493 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 84ms reading results.
2023-09-11 11:39:08.499 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:08.506 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2023-09-11 11:39:08.526 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1457.7277ms.
2023-09-11 11:39:08.529 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:39:08.532 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:39:08.533 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:39:08.537 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:39:08.538 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:39:08.539 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:39:08.646 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 1891.3139ms
2023-09-11 11:39:08.647 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:39:08.648 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:39:08.652 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:39:08.659 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:08.662 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-09-11 11:39:08.663 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 200 1402 application/json;+charset=utf-8 2015.5071ms
2023-09-11 11:39:56.356 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 43
2023-09-11 11:39:56.357 +03:30 [DBG] POST requests are not supported
2023-09-11 11:39:56.358 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:39:56.358 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointOfIntrest' is valid for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:39:56.359 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:39:56.361 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:39:56.362 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:39:56.374 +03:30 [INF] Route matched with {action = "CreatePointOfIntrest", controller = "PointOfIntrest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfIntrestDto]] CreatePointOfIntrest(Int32, CityInfo.API.Models.PointOfIntrestForCreationDto) on controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API).
2023-09-11 11:39:56.376 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:39:56.376 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:39:56.377 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:39:56.380 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:39:56.380 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:39:56.381 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:39:56.383 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:39:56.393 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:39:56.397 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-11 11:39:56.398 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:39:56.399 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:39:56.399 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:39:56.401 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:39:56.403 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:39:56.404 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' using the name '' in request data ...
2023-09-11 11:39:56.406 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 11:39:56.406 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 11:39:56.415 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000003": started reading request body.
2023-09-11 11:39:56.416 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000003": done reading request body.
2023-09-11 11:39:56.451 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:39:56.452 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:39:56.453 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:39:56.458 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:39:56.474 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:39:56.498 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:39:56.504 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(city => city.Id == __cityId_0)'
2023-09-11 11:39:56.512 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:39:56.525 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:39:56.526 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:39:56.527 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:39:56.528 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:39:56.532 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-09-11 11:39:56.532 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:56.533 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.538 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:39:56.542 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:39:56.544 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.547 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2023-09-11 11:39:56.548 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.549 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:39:56.553 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-11 11:39:56.557 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:39:56.561 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:39:56.565 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-09-11 11:39:56.566 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-09-11 11:39:56.567 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:56.567 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.568 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:39:56.570 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:39:56.572 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:56.573 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.573 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-09-11 11:39:56.574 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.575 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:39:56.584 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:39:56.587 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:39:56.601 +03:30 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:56.637 +03:30 [DBG] 'CityInfoDbContexts' generated a temporary value for the property 'Id.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:56.647 +03:30 [DBG] The navigation 'PointOfIntrest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:56.651 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:39:56.654 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContexts'.
2023-09-11 11:39:56.720 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:56.721 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.725 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:39:56.725 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:39:56.726 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:39:56.726 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:39:56.744 +03:30 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?', @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:39:56.750 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:39:56.751 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-09-11 11:39:56.756 +03:30 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoDbContexts'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-11 11:39:56.831 +03:30 [INF] Executed action CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) in 450.0064ms
2023-09-11 11:39:56.833 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:39:56.834 +03:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Repositories.Implementation.CityInfoRepositoryImplementation.SaveChangesAsync() in D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\Repositories\Implementation\CityInfoRepositoryImplementation.cs:line 59
   at CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest(Int32 cityId, PointOfIntrestForCreationDto pointOfIntrest) in D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\Controllers\PointOfIntrestController.cs:line 116
   at lambda_method108(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-11 11:39:56.863 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:39:56.864 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:39:56.864 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:39:56.865 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:39:56.866 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 43 - 500 - text/plain;+charset=utf-8 509.9301ms
2023-09-11 11:40:01.303 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 42
2023-09-11 11:40:02.368 +03:30 [DBG] POST requests are not supported
2023-09-11 11:40:02.458 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:40:02.459 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointOfIntrest' is valid for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:40:02.461 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:02.463 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:40:02.464 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:02.464 +03:30 [INF] Route matched with {action = "CreatePointOfIntrest", controller = "PointOfIntrest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfIntrestDto]] CreatePointOfIntrest(Int32, CityInfo.API.Models.PointOfIntrestForCreationDto) on controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API).
2023-09-11 11:40:02.466 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:40:02.466 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:40:02.467 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:40:02.468 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:40:02.468 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:40:02.469 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:02.471 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:02.472 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:02.473 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-11 11:40:02.473 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:02.474 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:02.474 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:02.475 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:02.476 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:40:02.477 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' using the name '' in request data ...
2023-09-11 11:40:02.481 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 11:40:02.482 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 11:40:02.483 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000004": started reading request body.
2023-09-11 11:40:02.483 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000004": done reading request body.
2023-09-11 11:40:02.484 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:02.485 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:02.485 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:40:02.486 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:02.499 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:40:02.540 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:40:02.546 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:02.547 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:40:02.547 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:40:02.548 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:02.548 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:40:02.549 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:02.550 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.550 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:02.552 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:02.553 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.554 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-09-11 11:40:02.557 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.557 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:02.558 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:02.559 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:02.559 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:02.560 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:02.561 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.562 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:40:02.564 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:40:02.565 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:02.566 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.566 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-09-11 11:40:02.567 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.568 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:02.569 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:02.569 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:02.570 +03:30 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:02.573 +03:30 [DBG] 'CityInfoDbContexts' generated a temporary value for the property 'Id.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:02.574 +03:30 [DBG] The navigation 'PointOfIntrest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:02.574 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:02.575 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContexts'.
2023-09-11 11:40:02.576 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:02.577 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.578 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:02.579 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:02.579 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:02.580 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:40:02.582 +03:30 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:40:02.583 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:02.584 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:02.586 +03:30 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoDbContexts'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-11 11:40:02.657 +03:30 [INF] Executed action CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) in 187.3602ms
2023-09-11 11:40:02.658 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:02.659 +03:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: PointsOfIntrest.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Repositories.Implementation.CityInfoRepositoryImplementation.SaveChangesAsync() in D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\Repositories\Implementation\CityInfoRepositoryImplementation.cs:line 59
   at CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest(Int32 cityId, PointOfIntrestForCreationDto pointOfIntrest) in D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\Controllers\PointOfIntrestController.cs:line 116
   at lambda_method108(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-09-11 11:40:02.676 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:40:02.676 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:40:02.677 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:02.678 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:02.679 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 42 - 500 - text/plain;+charset=utf-8 1375.2120ms
2023-09-11 11:40:26.749 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 59
2023-09-11 11:40:26.750 +03:30 [DBG] POST requests are not supported
2023-09-11 11:40:26.751 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:40:26.751 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointOfIntrest' is valid for the request path '/api/cities/5/PointOfIntrest'
2023-09-11 11:40:26.752 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:26.753 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:40:26.753 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:26.754 +03:30 [INF] Route matched with {action = "CreatePointOfIntrest", controller = "PointOfIntrest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfIntrestDto]] CreatePointOfIntrest(Int32, CityInfo.API.Models.PointOfIntrestForCreationDto) on controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API).
2023-09-11 11:40:26.755 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:40:26.756 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:40:26.757 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:40:26.761 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:40:26.761 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:40:26.762 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:26.763 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:26.764 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:26.765 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-11 11:40:26.765 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:26.766 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:26.766 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:26.767 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:26.768 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:40:26.768 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' using the name '' in request data ...
2023-09-11 11:40:26.769 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-11 11:40:26.770 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-11 11:40:26.771 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000005": started reading request body.
2023-09-11 11:40:26.771 +03:30 [DBG] Connection id "0HMTIJPAH7CCC", Request id "0HMTIJPAH7CCC:00000005": done reading request body.
2023-09-11 11:40:26.778 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:26.778 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:26.779 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto' ...
2023-09-11 11:40:26.780 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfIntrest' of type 'CityInfo.API.Models.PointOfIntrestForCreationDto'.
2023-09-11 11:40:26.793 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:40:26.795 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:40:26.796 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:26.796 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:40:26.797 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:40:26.797 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:26.798 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:40:26.798 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:26.799 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.800 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:26.801 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:26.802 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.803 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-09-11 11:40:26.804 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.805 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-09-11 11:40:26.809 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:26.809 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:26.810 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:26.811 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:26.811 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.812 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:40:26.813 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-09-11 11:40:26.815 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:26.815 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.816 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-09-11 11:40:26.817 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.818 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:26.818 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:26.819 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:26.820 +03:30 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:26.823 +03:30 [DBG] 'CityInfoDbContexts' generated a temporary value for the property 'Id.PointOfIntrest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:26.824 +03:30 [DBG] The navigation 'PointOfIntrest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:26.825 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:26.825 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContexts'.
2023-09-11 11:40:26.826 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:26.827 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:26.827 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:26.828 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:26.829 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:26.829 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 1), @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:40:26.830 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 1), @p1='?' (Size = 16), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfIntrest" ("Description", "Name", "cityId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-09-11 11:40:26.846 +03:30 [DBG] The foreign key property 'PointOfIntrest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-11 11:40:27.043 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:27.044 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 212ms reading results.
2023-09-11 11:40:27.045 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:27.046 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:27.054 +03:30 [DBG] An entity of type 'PointOfIntrest' tracked by 'CityInfoDbContexts' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:27.057 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContexts' with 1 entities written to the database.
2023-09-11 11:40:27.061 +03:30 [INF] Executed action method CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 266.942ms.
2023-09-11 11:40:27.062 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:40:27.063 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:40:27.064 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:40:27.064 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:40:27.064 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:40:27.065 +03:30 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfIntrestDto'.
2023-09-11 11:40:27.079 +03:30 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfIntrestController.GetPointOfIntrest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-09-11 11:40:27.085 +03:30 [DBG] Successfully processed template api/cities/{cityId}/PointOfIntrest/{pointOfIntrestId} for CityInfo.API.Controllers.PointOfIntrestController.GetPointOfIntrest (CityInfo.API) resulting in /api/cities/5/PointOfIntrest/13 and 
2023-09-11 11:40:27.087 +03:30 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfIntrestController.GetPointOfIntrest (CityInfo.API)"] with result /api/cities/5/PointOfIntrest/13
2023-09-11 11:40:27.088 +03:30 [INF] Executed action CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API) in 325.6078ms
2023-09-11 11:40:27.089 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfIntrestController.CreatePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:27.089 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:40:27.091 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:40:27.091 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:27.092 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:27.093 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7193/api/cities/5/PointOfIntrest application/json 59 - 201 53 application/json;+charset=utf-8 343.9596ms
2023-09-11 11:40:52.808 +03:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:7193/api/cities/5/PointOfIntrest/13 - -
2023-09-11 11:40:52.810 +03:30 [DBG] DELETE requests are not supported
2023-09-11 11:40:52.811 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/5/PointOfIntrest/13'
2023-09-11 11:40:52.811 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointOfIntrest/{PointOfIntrestId}' is valid for the request path '/api/cities/5/PointOfIntrest/13'
2023-09-11 11:40:52.812 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:52.822 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 11:40:52.825 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 11:40:52.826 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:52.829 +03:30 [INF] Route matched with {action = "DeletePointOfIntrest", controller = "PointOfIntrest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfIntrest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API).
2023-09-11 11:40:52.830 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:40:52.830 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:40:52.833 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:40:52.834 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:40:52.835 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:40:52.835 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:52.836 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfIntrestController (CityInfo.API)
2023-09-11 11:40:52.837 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:52.838 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-11 11:40:52.839 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:52.839 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:52.840 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-11 11:40:52.841 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-11 11:40:52.841 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrestId' of type 'System.Int32' ...
2023-09-11 11:40:52.842 +03:30 [DBG] Attempting to bind parameter 'pointOfIntrestId' of type 'System.Int32' using the name 'pointOfIntrestId' in request data ...
2023-09-11 11:40:52.842 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrestId' of type 'System.Int32'.
2023-09-11 11:40:52.843 +03:30 [DBG] Done attempting to bind parameter 'pointOfIntrestId' of type 'System.Int32'.
2023-09-11 11:40:52.844 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfIntrestId' of type 'System.Int32' ...
2023-09-11 11:40:52.844 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfIntrestId' of type 'System.Int32'.
2023-09-11 11:40:52.857 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:40:52.859 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:40:52.860 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:52.861 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:40:52.862 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:40:52.862 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:40:52.863 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:40:52.864 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:52.864 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.865 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:52.866 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-09-11 11:40:52.867 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.868 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-09-11 11:40:52.869 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.871 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-09-11 11:40:52.873 +03:30 [DBG] Compiling query expression: 
'DbSet<PointOfIntrest>()
    .Where(point => point.cityId == __cityId_0 && point.Id == __pointOfIntrestId_1)
    .FirstOrDefault()'
2023-09-11 11:40:52.877 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfIntrest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfIntrest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 1], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 2], [Property: PointOfIntrest.cityId (int) Required FK Index, 3] }
            SELECT TOP(1) p.Id, p.Description, p.Name, p.cityId
            FROM PointsOfIntrest AS p
            WHERE (p.cityId == @__cityId_0) && (p.Id == @__pointOfIntrestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfIntrest>, 
        CityInfo.API.DbContexts.CityInfoDbContexts, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-11 11:40:52.881 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:52.881 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:52.881 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:52.882 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:52.883 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.883 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfIntrestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "PointsOfIntrest" AS "p"
WHERE "p"."cityId" = @__cityId_0 AND "p"."Id" = @__pointOfIntrestId_1
LIMIT 1
2023-09-11 11:40:52.885 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfIntrestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "PointsOfIntrest" AS "p"
WHERE "p"."cityId" = @__cityId_0 AND "p"."Id" = @__pointOfIntrestId_1
LIMIT 1
2023-09-11 11:40:52.886 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:52.887 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.888 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-09-11 11:40:52.889 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.890 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:52.893 +03:30 [DBG] An entity of type 'PointOfIntrest' tracked by 'CityInfoDbContexts' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:52.895 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:52.896 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContexts'.
2023-09-11 11:40:52.896 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContexts'.
2023-09-11 11:40:52.902 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:52.902 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:52.903 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:52.904 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-11 11:40:52.905 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:52.908 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfIntrest"
WHERE "Id" = @p0
RETURNING 1;
2023-09-11 11:40:52.910 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfIntrest"
WHERE "Id" = @p0
RETURNING 1;
2023-09-11 11:40:53.036 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:53.039 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 127ms reading results.
2023-09-11 11:40:53.040 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:53.040 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:53.044 +03:30 [DBG] An entity of type 'PointOfIntrest' tracked by 'CityInfoDbContexts' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:53.045 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContexts' with 1 entities written to the database.
2023-09-11 11:40:53.057 +03:30 [INF] Executed action method CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 198.5842ms.
2023-09-11 11:40:53.058 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-11 11:40:53.059 +03:30 [INF] Executed action CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API) in 223.1167ms
2023-09-11 11:40:53.059 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfIntrestController.DeletePointOfIntrest (CityInfo.API)'
2023-09-11 11:40:53.060 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:40:53.060 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:40:53.061 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:53.062 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:53.064 +03:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:7193/api/cities/5/PointOfIntrest/13 - - - 204 - - 258.5925ms
2023-09-11 11:40:59.727 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 11:40:59.728 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 11:40:59.728 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 11:40:59.729 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 11:40:59.730 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:40:59.730 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 11:40:59.731 +03:30 [INF] Executing endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:40:59.732 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.controllers.CitiesController (CityInfo.API).
2023-09-11 11:40:59.733 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 11:40:59.733 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 11:40:59.734 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 11:40:59.735 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 11:40:59.736 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 11:40:59.737 +03:30 [DBG] Executing controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:40:59.738 +03:30 [DBG] Executed controller factory for controller CityInfo.API.controllers.CitiesController (CityInfo.API)
2023-09-11 11:40:59.749 +03:30 [INF] Executing action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2023-09-11 11:40:59.752 +03:30 [DBG] Entity Framework Core 7.0.10 initialized 'CityInfoDbContexts' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.10' with options: None
2023-09-11 11:40:59.753 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-11 11:40:59.753 +03:30 [DBG] Creating DbConnection.
2023-09-11 11:40:59.754 +03:30 [DBG] Created DbConnection. (0ms).
2023-09-11 11:40:59.754 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-09-11 11:40:59.755 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-09-11 11:40:59.756 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:59.757 +03:30 [DBG] Opened connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:59.757 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:40:59.759 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."Description", "p"."Name", "p"."cityId"
FROM "Cities" AS "c"
LEFT JOIN "PointsOfIntrest" AS "p" ON "c"."Id" = "p"."cityId"
ORDER BY "c"."Name", "c"."Id"
2023-09-11 11:40:59.760 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.761 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.761 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.762 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.763 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.767 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.767 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.768 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.769 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.770 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.771 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.772 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.773 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.774 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.774 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.775 +03:30 [DBG] Context 'CityInfoDbContexts' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-11 11:40:59.776 +03:30 [DBG] Closing data reader to 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:59.777 +03:30 [DBG] A data reader for 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db' is being disposed after spending 16ms reading results.
2023-09-11 11:40:59.778 +03:30 [DBG] Closing connection to database 'main' on server 'D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\CityInfo.db'.
2023-09-11 11:40:59.778 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:59.781 +03:30 [INF] Executed action method CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.9109ms.
2023-09-11 11:40:59.782 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 11:40:59.783 +03:30 [DBG] No information found on request to perform content negotiation.
2023-09-11 11:40:59.784 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-11 11:40:59.784 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-11 11:40:59.785 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-11 11:40:59.786 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-11 11:40:59.787 +03:30 [INF] Executed action CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API) in 50.4937ms
2023-09-11 11:40:59.788 +03:30 [INF] Executed endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 11:40:59.789 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" completed keep alive response.
2023-09-11 11:40:59.790 +03:30 [DBG] 'CityInfoDbContexts' disposed.
2023-09-11 11:40:59.790 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-09-11 11:40:59.791 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-09-11 11:40:59.792 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 200 1402 application/json;+charset=utf-8 64.9303ms
2023-09-11 11:41:32.113 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" received FIN.
2023-09-11 11:41:32.150 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" disconnecting.
2023-09-11 11:41:32.152 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 11:41:32.154 +03:30 [DBG] Connection id "0HMTIJPAH7CCC" stopped.
2023-09-11 12:16:23.811 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 12:16:23.902 +03:30 [DBG] Hosting starting
2023-09-11 12:16:23.979 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 12:16:23.981 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 12:16:23.989 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 12:16:23.997 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 12:16:24.000 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 12:16:24.003 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 12:16:24.004 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 12:16:24.008 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 12:16:24.010 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 12:16:24.012 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 12:16:24.013 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 12:16:24.293 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 12:16:24.330 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 12:16:24.330 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 12:16:24.331 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 12:16:24.331 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 12:16:24.332 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 12:16:24.332 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 12:16:24.333 +03:30 [INF] Hosting environment: Development
2023-09-11 12:16:24.333 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 12:16:24.334 +03:30 [DBG] Hosting started
2023-09-11 12:16:24.583 +03:30 [DBG] Connection id "0HMTIKEA9QOA2" accepted.
2023-09-11 12:16:24.585 +03:30 [DBG] Connection id "0HMTIKEA9QOA2" started.
2023-09-11 12:16:24.589 +03:30 [DBG] Connection id "0HMTIKEA9QOA3" accepted.
2023-09-11 12:16:24.590 +03:30 [DBG] Connection id "0HMTIKEA9QOA3" started.
2023-09-11 12:16:24.607 +03:30 [DBG] Connection id "0HMTIKEA9QOA3" received FIN.
2023-09-11 12:16:24.607 +03:30 [DBG] Connection id "0HMTIKEA9QOA2" received FIN.
2023-09-11 12:16:24.620 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 12:16:24.620 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 12:16:24.696 +03:30 [DBG] Connection id "0HMTIKEA9QOA3" stopped.
2023-09-11 12:16:24.696 +03:30 [DBG] Connection id "0HMTIKEA9QOA2" stopped.
2023-09-11 12:16:24.698 +03:30 [DBG] Connection id "0HMTIKEA9QOA2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 12:16:24.698 +03:30 [DBG] Connection id "0HMTIKEA9QOA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 12:16:24.760 +03:30 [DBG] Connection id "0HMTIKEA9QOA4" accepted.
2023-09-11 12:16:24.766 +03:30 [DBG] Connection id "0HMTIKEA9QOA4" started.
2023-09-11 12:16:24.795 +03:30 [DBG] Connection 0HMTIKEA9QOA4 established using the following protocol: "Tls12"
2023-09-11 12:16:24.829 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 12:16:24.855 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 12:16:25.038 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 12:16:25.203 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 12:16:25.205 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 12:16:25.208 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.8622ms
2023-09-11 12:16:25.209 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 12:16:25.209 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 384.4271ms
2023-09-11 12:16:25.225 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.3101ms
2023-09-11 12:16:25.315 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 12:16:25.447 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.6080ms
2023-09-11 12:17:20.493 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7193/api/authentication/authenticate application/json-patch+json 55
2023-09-11 12:17:20.506 +03:30 [DBG] POST requests are not supported
2023-09-11 12:17:20.526 +03:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-09-11 12:17:20.532 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-09-11 12:17:20.533 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 12:17:20.943 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 12:17:20.946 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 12:17:20.969 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(CityInfo.API.Models.AuthenticationRequestBodyDto) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-09-11 12:17:20.971 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-11 12:17:20.972 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-11 12:17:20.973 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-11 12:17:20.974 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-11 12:17:20.974 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-11 12:17:20.975 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 12:17:20.977 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-09-11 12:17:20.980 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 12:17:20.982 +03:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' using the name '' in request data ...
2023-09-11 12:17:20.983 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-09-11 12:17:20.983 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-09-11 12:17:20.991 +03:30 [DBG] Connection id "0HMTIKEA9QOA4", Request id "0HMTIKEA9QOA4:00000009": started reading request body.
2023-09-11 12:17:20.993 +03:30 [DBG] Connection id "0HMTIKEA9QOA4", Request id "0HMTIKEA9QOA4:00000009": done reading request body.
2023-09-11 12:17:21.138 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 12:17:21.139 +03:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 12:17:21.140 +03:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto' ...
2023-09-11 12:17:21.146 +03:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Models.AuthenticationRequestBodyDto'.
2023-09-11 12:17:21.241 +03:30 [INF] Executing action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) - Validation state: "Valid"
2023-09-11 12:20:14.329 +03:30 [INF] Executed action method CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173082.4232ms.
2023-09-11 12:20:14.332 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-11 12:20:14.336 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-09-11 12:20:14.337 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-09-11 12:20:14.338 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-11 12:20:14.352 +03:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 173363.6687ms
2023-09-11 12:20:14.352 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-09-11 12:20:14.353 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7193/api/authentication/authenticate application/json-patch+json 55 - 200 - text/plain;+charset=utf-8 173860.0495ms
2023-09-11 12:21:36.133 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-11 12:21:36.211 +03:30 [DBG] Hosting starting
2023-09-11 12:21:36.234 +03:30 [INF] User profile is available. Using 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-11 12:21:36.236 +03:30 [DBG] Reading data from file 'C:\Users\chavooshi\AppData\Local\ASP.NET\DataProtection-Keys\key-29ed8810-d426-4fc6-96eb-0cc0098ab01d.xml'.
2023-09-11 12:21:36.244 +03:30 [DBG] Found key {29ed8810-d426-4fc6-96eb-0cc0098ab01d}.
2023-09-11 12:21:36.253 +03:30 [DBG] Considering key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} with expiration date 2023-12-09 11:24:09Z as default key.
2023-09-11 12:21:36.257 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 12:21:36.260 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-09-11 12:21:36.261 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-09-11 12:21:36.265 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-09-11 12:21:36.267 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-09-11 12:21:36.269 +03:30 [DBG] Using key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} as the default key.
2023-09-11 12:21:36.271 +03:30 [DBG] Key ring with default key {29ed8810-d426-4fc6-96eb-0cc0098ab01d} was loaded during application startup.
2023-09-11 12:21:36.359 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: D95F769DDB63A413A681F749C6A676EBC04685BB)
2023-09-11 12:21:36.395 +03:30 [INF] Now listening on: https://localhost:7193
2023-09-11 12:21:36.396 +03:30 [INF] Now listening on: http://localhost:5111
2023-09-11 12:21:36.396 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-11 12:21:36.397 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-11 12:21:36.397 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-11 12:21:36.398 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-09-11 12:21:36.398 +03:30 [INF] Hosting environment: Development
2023-09-11 12:21:36.398 +03:30 [INF] Content root path: D:\language programming\Web API with ASP.NET core\projects\CityInfo.API\
2023-09-11 12:21:36.399 +03:30 [DBG] Hosting started
2023-09-11 12:21:36.557 +03:30 [DBG] Connection id "0HMTIKH792COQ" received FIN.
2023-09-11 12:21:36.566 +03:30 [DBG] Connection id "0HMTIKH792COQ" accepted.
2023-09-11 12:21:36.573 +03:30 [DBG] Connection id "0HMTIKH792COQ" started.
2023-09-11 12:21:36.583 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 12:21:36.607 +03:30 [DBG] Connection id "0HMTIKH792COQ" stopped.
2023-09-11 12:21:36.610 +03:30 [DBG] Connection id "0HMTIKH792COQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 12:21:36.731 +03:30 [DBG] Connection id "0HMTIKH792COR" accepted.
2023-09-11 12:21:36.731 +03:30 [DBG] Connection id "0HMTIKH792COR" started.
2023-09-11 12:21:36.767 +03:30 [DBG] Connection 0HMTIKH792COR established using the following protocol: "Tls12"
2023-09-11 12:21:36.800 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-09-11 12:21:36.829 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-11 12:21:37.012 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-09-11 12:21:37.113 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-09-11 12:21:37.117 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-09-11 12:21:37.125 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-09-11 12:21:37.125 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.8861ms
2023-09-11 12:21:37.127 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 329.7006ms
2023-09-11 12:21:37.141 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.0680ms
2023-09-11 12:21:37.230 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-09-11 12:21:37.366 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.2199ms
2023-09-11 12:21:56.150 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7193/api/cities - -
2023-09-11 12:21:56.153 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 12:21:56.175 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-09-11 12:21:56.180 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-09-11 12:21:56.181 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 12:21:56.222 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-09-11 12:21:56.228 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 12:21:56.234 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 12:21:56.235 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7193/api/cities - - - 401 0 - 85.2311ms
2023-09-11 12:24:01.606 +03:30 [DBG] Connection id "0HMTIKH792COS" accepted.
2023-09-11 12:24:01.609 +03:30 [DBG] Connection id "0HMTIKH792COS" received FIN.
2023-09-11 12:24:01.610 +03:30 [DBG] Connection id "0HMTIKH792COS" started.
2023-09-11 12:24:01.610 +03:30 [DBG] Connection id "0HMTIKH792COT" accepted.
2023-09-11 12:24:01.621 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-11 12:24:01.621 +03:30 [DBG] Connection id "0HMTIKH792COT" started.
2023-09-11 12:24:01.623 +03:30 [DBG] Connection id "0HMTIKH792COS" stopped.
2023-09-11 12:24:01.623 +03:30 [DBG] Connection id "0HMTIKH792COS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 12:24:01.627 +03:30 [DBG] Connection 0HMTIKH792COT established using the following protocol: "Tls12"
2023-09-11 12:24:01.634 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/Cities - -
2023-09-11 12:24:01.635 +03:30 [DBG] The request path  does not match the path filter
2023-09-11 12:24:01.637 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2023-09-11 12:24:01.637 +03:30 [DBG] Endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/Cities'
2023-09-11 12:24:01.638 +03:30 [DBG] Request matched endpoint 'CityInfo.API.controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-11 12:24:01.649 +03:30 [INF] Failed to validate the token.
System.MissingMethodException: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-11 12:24:01.651 +03:30 [INF] Bearer was not authenticated. Failure message: Method not found: 'Void Microsoft.IdentityModel.Tokens.InternalValidators.ValidateLifetimeAndIssuerAfterSignatureNotValidatedJwt(Microsoft.IdentityModel.Tokens.SecurityToken, System.Nullable`1<System.DateTime>, System.Nullable`1<System.DateTime>, System.String, Microsoft.IdentityModel.Tokens.TokenValidationParameters, System.Text.StringBuilder)'.
2023-09-11 12:24:01.652 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-11 12:24:01.655 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-11 12:24:01.655 +03:30 [DBG] Connection id "0HMTIKH792COT" completed keep alive response.
2023-09-11 12:24:01.656 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/Cities - - - 401 0 - 21.7201ms
2023-09-11 13:26:54.379 +03:30 [DBG] Connection id "0HMTIKH792COR" received FIN.
2023-09-11 13:26:54.458 +03:30 [DBG] Connection id "0HMTIKH792COR" is closed. The last processed stream ID was 9.
2023-09-11 13:26:54.459 +03:30 [DBG] Connection id "0HMTIKH792COR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-11 13:26:54.472 +03:30 [DBG] Connection id "0HMTIKH792COR" stopped.
